webpackJsonp([0],[function(e,exports,t){e.exports=t(1)},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t(2),t(3),t(4),t(5),t(6);var n=t(7),i=a(n),s=["pasp.ui"],r=t(8);r.keys().forEach(function(e){s.push(r(e).default)});var o=angular.module("main",s).run(["$rootScope","$location","$state","$timeout",function(e,t,a,n){localStorage.getItem("hasLogin")||a.go("login"),e.headPortrait={imgs:i.default},e.ifameSrc="",e.prveClass="",e.$watch(function(){return t.path()},function(t){document.body.scrollTop=0,angular.element(document.body).removeClass(e.prveClass).addClass(e.prveClass=t.split("/").pop())})}]).constant("uibPaginationConfig",{firstText:"第一页",previousText:"上一页",nextText:"下一页",lastText:"最后一页",boundaryLinks:!1,directionLinks:!0,itemsPerPageSelect:!1});angular.bootstrap(document.body,[o.name])},,,,function(e,exports){},,function(e,exports,t){e.exports=t.p+"images/contact_man.png"},function(e,exports,t){function a(e){return t(n(e))}function n(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./A-components/directives.index.js":9,"./A-page-animate/animate.index.js":76,"./A-page-filter/filter.index.js":79,"./A-page-service/service.index.js":83,"./pages/login/login.index.js":101,"./pages/main/appSetting/appSetting.index.js":108,"./pages/main/appSetting/create/appcreate.index.js":112,"./pages/main/appSetting/create/base/base.index.js":116,"./pages/main/appSetting/create/seting/seting.index.js":120,"./pages/main/apps/app.index.js":124,"./pages/main/branchSetting/branchSetting.index.js":128,"./pages/main/loveApp/loveapp.index.js":132,"./pages/main/main.index.js":136,"./pages/main/myApp/myapp.index.js":141,"./pages/main/roleSetting/create/rolecreate.index.js":145,"./pages/main/roleSetting/role.index.js":149,"./pages/main/userSetting/create/usercreate.index.js":153,"./pages/main/userSetting/user.index.js":157};a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id=8},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a=t(10),n=angular.module("A-directives",[]);a.keys().forEach(function(e){var t=a(e).default;n.directive(t.name,t.fn)}),exports.default=n.name},function(e,exports,t){function a(e){return t(n(e))}function n(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./user-menus/userMenus.directive.js":11,"./z-addtablerow/gettable.directive.js":33,"./z-addtablerow/zaddrow.directive.js":34,"./z-backpath/zBackpath.directive.js":35,"./z-btn-group/btngroup.directive.js":36,"./z-edittext/zedittext.directive.js":38,"./z-flip-over/zflipchild.directive.js":41,"./z-flip-over/zflipover.directive.js":42,"./z-floatinglayer/zfloatinglayer.directive.js":44,"./z-interleave-class/zInterleave.directive.js":46,"./z-interleave-class/zInterleaveClass.directive.js":47,"./z-main-nav/zMainNav.directive.js":48,"./z-more-panel/zMorePanel.directive.js":51,"./z-page-header/zpageheader.directive.js":54,"./z-point/zpoint.directive.js":57,"./z-security-panel/securitybody.directive.js":60,"./z-security-panel/securitypanel.directive.js":62,"./z-security-panel/securitytitle.directive.js":64,"./z-segment-input/segmentInput.directive.js":65,"./z-select/zselect.directive.js":68,"./z-spinner/zspinner.directive.js":71,"./z-tableresize/ztableresize.directive.js":74};a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id=10},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=t(32),l=a(o),c=function(){function e(){(0,i.default)(this,e),this.restrict="AE",this.replace=!0,this.scope={},this.templateUrl=l.default}return(0,r.default)(e,[{key:"link",value:function(e,t,a){e.exit='login({entry:"'+sessionStorage.getItem("entry")+'"})',e.urls=a.templateUrl,e.src=e.$root.headPortrait.imgs;var n=JSON.parse(sessionStorage.getItem("thisUser"));e.username=n.userName,e.power=n.roleName,e.isClick=!1,e.isopen=!1,t.find(">div").on({click:function(t){e.isopen=!e.isopen,e.$apply(""),t.stopPropagation()},mouseup:function(e){e.stopPropagation()}}),angular.element(document).on("mouseup",function(t){e.isopen=!1,e.$apply("")})}}],[{key:"factory",value:function(){return new e}}]),e}();exports.default={name:"userMenus",fn:c.factory}},,,,,,,,,,,,,,,,,,,,,function(e,exports){var t="A-components/user-menus/template.view.html",a='<div class=user-control ng-class="{\'active\':isopen}"> <div class=user-title> <img ng-src={{src}} alt=""> <span class="margin-left-5 margin-right-5">{{username}}</span> <i class=fa ng-class="{\'fa-caret-down\':!isopen,\'fa-caret-up\':isopen}"></i></div> <ul class=menu-list ng-include=urls> </ul> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports){"use strict";function t(){"ngInject";return{restrict:"A",controller:["$scope",function(e){var t=this;e.addEl=function(e){t.el=e}}],compile:function(){return{pre:function(e,t,a){},post:function(e,t,a){e.addEl(t)}}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={name:"getTable",fn:t}},function(e,exports){"use strict";function t(e){"ngInject";return{restrict:"A",require:"^^getTable",compile:function(t,a){return{pre:function(e,t,a,n){},post:function(t,a,n,i){var s=i.el.find("thead>tr>th").length,r=e('<tr class="details"><td colspan="'+s+'" ng-include="\''+n.comtentUrl+"'\"></td></tr>")(t);t.isopened=!1,a.on("click",function(e){if(t.isopened){var n=a.parent().parent().next();n.hasClass("details")&&(n.addClass("hide"),t.isopened=!1,t.$apply(""))}else a.data("hasAdd")?a.parent().parent().next().removeClass("hide"):(r.insertAfter(a.parent().parent()),a.data("hasAdd",1)),t.isopened=!0,t.$apply("");e.stopPropagation()})}}}}}t.$inject=["$compile"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={name:"zAddRow",fn:t}},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=function(){function e(){(0,i.default)(this,e),this.restrict="A",this.replace=!1}return(0,r.default)(e,[{key:"controller",value:["$scope","$location",function(e,t){"ngInject";e._location=t}]},{key:"link",value:function(e,t,a){t.on("mousedown",function(){sessionStorage.setItem("fromMainPath","#"+e._location.path())})}}],[{key:"factory",value:function(){return new e}}]),e}();exports.default={name:"zBackpath",fn:o.factory}},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(){"ngInject";return{restrict:"AE",templateUrl:s.default,replace:!0,scope:{listData:"=?listData",type:"=?type",clickEnd:"&",btnClass:"@"},link:function(e,t,a){e.btnClass||(e.btnClass=""),e.btnChoose=function(t){e.listData.forEach(function(e){e.active=!1}),t.active=!0},e.workcallback=function(t){e.btnChoose(t),(e.clickEnd||angular.noop)({$item:t})}}}}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(37),s=a(i);exports.default={name:"zBtnGroup",fn:n}},function(e,exports){var t="A-components/z-btn-group/template.view.html",a="<span class=btn-group> <button type=button class=btn ng-click=workcallback(item) ng-repeat=\"item in listData\" ng-class=\"item.active?('btn-'+(type?type:'primary')+' active '+btnClass):('btn-'+(type?type:'primary')+'-hoverborder '+btnClass)\">{{item.name}}</button> </span>";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(){"ngInject";return{restrict:"AE",templateUrl:s.default,replace:!0,scope:{editModel:"=",saveCallback:"&"},link:function(e,t,a){e.edit=function(){e.oldvalue=e.editModel,e.editModeltext=e.editModel,e.isEdit=!0},e.save=function(){(e.saveCallback||angular.noop)(),e.editModel=e.editModeltext,e.isEdit=!1},e.close=function(){e.editModel=e.oldvalue,e.isEdit=!1}}}}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(39),s=a(i);t(40),exports.default={name:"zEditText",fn:n}},function(e,exports){var t="A-components/z-edittext/template.view.html",a='<div class=z-edit-text> <span ng-show=!isEdit> <span ng-bind=editModel></span> <i class="fa fa-pencil text-info" ng-click=edit()></i> </span> <span ng-show=isEdit> <input type=text ng-model=editModeltext class=form-control> <i class="fa fa-check text-success" ng-click=save()></i> <i class="fa fa-close text-danger" ng-click=close()></i> </span> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports){},function(e,exports){"use strict";function t(e){"ngInject";return{restrict:"A",require:"^?zFlipOver",link:function(t,a,n,i){0==t.$index&&e(function(){a.children().click()}),t.$last&&i.setpositions()}}}t.$inject=["$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={name:"zFlipChild",fn:t}},function(e,exports,t){"use strict";function a(e){"ngInject";return{restrict:"A",scope:{clickTag:"@"},controller:["$scope",function(t){var a=this;this.setpositions=function(){var n=20,i=a.el,s=15,r="padding-left-"+s,o=i.find(".z-flip-wrap"),l=o.css("z-index"),c=i.find(".z-flip-el").addClass(r),u=i.width(),d=Math.ceil(c.length/l);if(c.length>l){var f=e('<div ng-click="downOne()" class="z-flip-left" style="z-index:'+l+"1;width:"+n+'px;"><i class="fa fa-angle-double-left" style="width:'+n+'px;"></i></div><div ng-click="upOne()" class="z-flip-right" style="z-index:'+l+"1;width:"+n+'px;"><i class="fa fa-angle-double-right" style="width:'+n+'px;"></i></div>')(t);i.append(f),u-=2*(n+s),o.css({left:n+s})}var p=1;t.upOne=function(){if(p<d){var e=parseInt(o.css("left"));e=e-u-s,o.velocity({left:e},700,"easeOutQuad"),p++}},t.downOne=function(){if(p>1){var e=parseInt(o.css("left"));e=e+u+s,o.velocity({left:e},700,"easeOutQuad"),p--}},c.eq(0).removeClass(r),c.css({width:u/l})},t.getEl=function(e){a.el=e}}],compile:function(e,t){return{pre:function(e,t,a){console.log(t)},post:function(e,t,a){console.log(t),e.getEl(t)}}}}}a.$inject=["$compile"],Object.defineProperty(exports,"__esModule",{value:!0}),t(43),exports.default={name:"zFlipOver",fn:a}},function(e,exports){},function(e,exports,t){"use strict";function a(e,t,a){"ngInject";return{restrict:"A",scope:{floatLayerOption:"=",resolve:"="},link:function(t,n,i){var s=t.floatLayerOption;if(s){t.resolve&&angular.forEach(t.resolve,function(e,a){t[a]=e});var r=s.template,o=s.templateUrl;r?t.hascompile=e('<div class="z-float-layer hide"><div class="z-float-layer-body">'+r+"</div></div>")(t):o&&(t.hascompile=e('<div class="z-float-layer hide"><div class="z-float-layer-body" ng-include="\''+o+"'\"></div></div>")(t)),n.parent().append(t.hascompile),s.openEvent||(s.openEvent="click");var l=(n.parent(),t.hascompile),c=function(){l.removeClass("hide");var e=l.children(),t=n[0].offsetLeft,a=0;e.css({left:t});var i=e[0].getBoundingClientRect(),s=e[0].offsetWidth,r=e[0].offsetHeight;i.left+s>document.documentElement.clientWidth&&l.children().css({left:t-s}),i.top+r>document.documentElement.clientHeight&&l.children().css({top:a-r-n[0].offsetHeight})},u=function(){l.addClass("hide")};if("hover"==s.openEvent){var d=null;n.on({mouseenter:function(e){a.cancel(d),c()},mouseleave:function(e){d=a(u,300)}}),l.on({mouseenter:function(e){a.cancel(d)},mouseleave:u})}n.on(s.openEvent,function(e){l.hasClass("hide")?c():u(),e.stopPropagation()})}}}}a.$inject=["$compile","$window","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),t(45),exports.default={name:"zFloatingLayer",fn:a}},function(e,exports){},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=function(){function e(){(0,i.default)(this,e),this.restrict="A"}return(0,r.default)(e,[{key:"controller",value:["$scope",function(e){"ngInject";var t=this;this.count=1,e.getWidth=function(e){t.width=e},this.getHcount=function(e){t.Hcount=Math.round(t.width/e)}}]},{key:"link",value:function(e,t,a){e.getWidth(t.width())}}],[{key:"factory",value:function(){return new e}}]),e}();exports.default={name:"zInterleave",fn:o.factory}},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=function(){function e(){(0,i.default)(this,e),this.restrict="A",this.require="^^zInterleave"}return(0,r.default)(e,[{key:"link",value:function(e,t,a,n){n.Hcount||n.getHcount(t[0].clientWidth),0==e.$index&&(n.count=1),(e.$index+1)*n.count==n.Hcount+1&&(t.addClass(a.zInterleaveClass),n.count++)}}],[{key:"factory",value:function(){return new e}}]),e}();exports.default={name:"zInterleaveClass",fn:o.factory}},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=t(49),l=a(o);t(50);var c=function(){function e(){(0,i.default)(this,e),this.templateUrl=l.default,this.restrict="AE",this.replace=!0,this.scope={navData:"="}}return(0,r.default)(e,[{key:"controller",value:["$scope","$location",function(e,t){"ngInject";e._location=t}]},{key:"link",value:function(e,t,a){e.$watch(function(){return e._location.path()},function(e){setTimeout(function(){t.find(".active").removeClass("active"),angular.element(t).find("a[href='#"+e.split("?")[0]+"']").addClass("active")})})}}],[{key:"factory",value:function(){return new e}}]),e}();exports.default={name:"zMainNav",fn:c.factory}},function(e,exports){var t="A-components/z-main-nav/template.view.html",a=' <ul class=main-nav> <li ng-repeat="nav in navData" ng-class="{\'margin-bottom-10\':!nav.liner,\'padding-left-20 padding-right-20\':nav.liner}"> <div class="liner margin-bottom-20 margin-top-20" ng-if=nav.liner></div> <a ng-if=!nav.liner href={{nav.link}}><i class=fa ng-class=nav.icon></i><span>{{nav.name}}</span> <span class="fa fa-angle-right pull-right angle-right"></span> </a> </li> </ul>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports){},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=t(52),l=a(o);t(53);var c=function(){function e(){(0,i.default)(this,e),this.templateUrl=l.default,this.restrict="AE",this.replace=!0,this.scope={openPanel:"="}}return(0,r.default)(e,[{key:"link",value:function(e,t,a){e.close=function(){t.find(".more-panel").addClass("move-left"),setTimeout(function(){t.addClass("hide")},300)},e.openPanel=function(){t.removeClass("hide"),setTimeout(function(){t.find(".more-panel").removeClass("move-left")})}}}],[{key:"factory",value:function(){return new e}}]),e}();exports.default={name:"zMorePanel",fn:c.factory}},function(e,exports){var t="A-components/z-more-panel/template.view.html",a='<div class="more-box hide"> <div class="panel more-panel move-left"> <div class=panel-heading> <i class="fa fa-angle-left back-btn cursor-pointer" ng-click=close()></i> </div> <div class=panel-body> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports){},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=t(55),l=a(o);t(56);var c=function(){function e(){(0,i.default)(this,e),this.scope={headerInfo:"="},this.restrict="AE",this.replace=!0,this.templateUrl=l.default,this.controller=["$scope",function(e){"ngInject";e.headerInfo.onBack||(e.headerInfo.onBack=function(){history.back()})}]}return(0,r.default)(e,null,[{key:"factory",value:function(){return new e}}]),e}();exports.default={name:"zPageHeader",fn:c.factory}},function(e,exports){var t="A-components/z-page-header/template.view.html",a='<header class="page-header clearfix"> <h4 class=pull-left> <i class="fa fa-arrow-left text-primary cursor-pointer" ng-hide=headerInfo.hideBack ng-click=headerInfo.onBack()></i> <span>{{headerInfo.title}}</span> <button class="btn page-header-btn" ng-repeat="bt in headerInfo.btnGroup" ng-click=bt.onClick()> <i class=fa ng-class=bt.icon></i> <span>{{bt.name}}</span> </button> </h4> <ol class=breadcrumb> <li ng-repeat="li in headerInfo.crumbs"> <a ui-sref={{li.router}} ng-if=li.router>{{li.name}}</a> <span ng-if=!li.router>{{li.name}}</span> </li> </ol> </header>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports){},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(){"ngInject";return{restrict:"AE",templateUrl:s.default,replace:!0,scope:{left:"="},link:function(e,t,a){}}}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(58),s=a(i);t(59),exports.default={name:"zPoint",fn:n}},function(e,exports){var t="A-components/z-point/template.view.html",a='<span class="z-point point-outer" ng-style="{\'left\':left}"><span class=point-inner></span></span>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports){},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(){"ngInject";return{restrict:"AE",template:'<div class="security-body expandDown" ng-show="isExtanded" ng-transclude></div>',replace:!0,transclude:!0,link:function(e,t,a){}}}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(61);a(i);exports.default={name:"zSecurityBody",fn:n}},function(e,exports){var t="A-components/z-security-panel/template.view.html",a='<div class="segment-input form-control"> <input type=text class=text maxlength=3 ng-model=value1 ng-blur=inputblur(value1)> <span>.</span> <input type=text class=text maxlength=3 ng-model=value2 ng-blur=inputblur(value2)> <span>.</span> <input type=text class=text maxlength=3 ng-model=value3 ng-blur=inputblur(value3)> <span>.</span> <input type=text class=text maxlength=3 ng-model=value4 ng-blur=inputblur(value4)> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(){"ngInject";return{restrict:"AE",template:'<div class="security-panel margin-bottom-15" ng-transclude></div>',replace:!0,transclude:!0,link:function(e,t,a){e.extanded=function(){e.isExtanded=!e.isExtanded}}}}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(61);a(i);t(63),exports.default={name:"zSecurityPanel",fn:n}},function(e,exports){},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(){"ngInject";return{restrict:"AE",template:' <div class="security-title cursor-pointer" ng-click="extanded()"><i ng-class="isExtanded?\'fa-chevron-circle-down\':\'fa-chevron-circle-right\'" class="fa text-info"></i><div class="clearfix" ng-transclude></div></div>',replace:!0,transclude:!0,link:function(e,t,a){}}}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(61);a(i);exports.default={name:"zSecurityTitle",fn:n}},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(){"ngInject";return{restrict:"AE",templateUrl:s.default,replace:!0,scope:{segmentModel:"=?",segmentBlur:"&"},link:function(e,t,a){e.value1="",e.value2="",e.value3="",e.value4="";var n,i,s,r;e.$watch(function(){return e.value1},function(t){return n?void(""==t&&""==e.value3&&""==e.value2&&""==e.value4?e.segmentModel="":e.segmentModel=t+"."+e.value2+"."+e.value3+"."+e.value4):void(n=!0)}),e.$watch(function(){return e.value2},function(t){return i?void(""==t&&""==e.value1&&""==e.value3&&""==e.value4?e.segmentModel="":e.segmentModel=e.value1+"."+t+"."+e.value3+"."+e.value4):void(i=!0)}),e.$watch(function(){return e.value3},function(t){return s?void(""==t&&""==e.value1&&""==e.value2&&""==e.value4?e.segmentModel="":e.segmentModel=e.value1+"."+e.value2+"."+t+"."+e.value4):void(s=!0)}),e.$watch(function(){return e.value4},function(t){return r?void(""==t&&""==e.value1&&""==e.value2&&""==e.value3?e.segmentModel="":e.segmentModel=e.value1+"."+e.value2+"."+e.value3+"."+t):void(r=!0)}),e.$watch(function(){return e.segmentModel},function(t){if(t){var a=e.segmentModel.split(".");e.value1=a[0],e.value2=a[1],e.value3=a[2],e.value4=a[3]}else e.value1="",e.value2="",e.value3="",e.value4=""}),e.inputblur=function(t){(e.segmentBlur||angular.noop)({$values:e.segmentModel,$thisvalue:t})}}}}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(66),s=a(i);t(67),exports.default={name:"zSegmentInput",fn:n}},function(e,exports){var t="A-components/z-segment-input/template.view.html",a='<div class="segment-input form-control"> <input type=text class=text maxlength=3 ng-model=value1 ng-blur=inputblur(value1) ng-maxlength=255> <span>.</span> <input type=text class=text maxlength=3 ng-model=value2 ng-blur=inputblur(value2) ng-maxlength=255> <span>.</span> <input type=text class=text maxlength=3 ng-model=value3 ng-blur=inputblur(value3) ng-maxlength=255> <span>.</span> <input type=text class=text maxlength=3 ng-model=value4 ng-blur=inputblur(value4) ng-maxlength=255> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports){},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){"ngInject";return{restrict:"AE",templateUrl:s.default,replace:!0,scope:{selectListData:"=",selectModel:"=",selectCallback:"&"},link:function(a,n,i){if(a.type=i.type,a.placeholder=i.placeholder,a.selectListData&&a.selectListData.length>0)if(a.selectModel){var s=a.selectListData.find(function(e,t,n){return e.name==a.selectModel||e.value==a.selectModel});s&&(a.selectName=s.name,a.selectValue=s.value)}else a.selectName=a.selectListData[0].name;a.$watch(function(){return a.selectModel},function(e,t){setTimeout(function(){a.selectName=a.selectModel})}),a.selectListData.length>0&&""==a.selectListData[0].name&&a.selectListData.unshift(),a.openSelect=function(){n.hasClass("focus")?n.removeClass("focus"):n.find("input").focus()},a.focus=function(e){n.addClass("focus");var a=n.find(".z-select-list"),i=n[0].getBoundingClientRect(),s=document.documentElement.clientHeight,r=s-i.top-n.height();r>s/2?a.css({"max-height":r}):a.css({"max-height":s/2});var o=a.css("margin-top");a.css({"margin-top":parseInt(o)-10,opacity:0}).velocity({"margin-top":o,opacity:1},150,t.easeOutCubic),e.stopPropagation()},a.blur=function(){a.timer=e(function(){n.removeClass("focus")},100),event.stopPropagation()},a.opendown=a.selctdown=function(t){e(function(){e.cancel(a.timer)}),t.stopPropagation()},a.selected=function(e,t){a.selectName=e.name,a.selectValue=e.value,angular.isDefined(e.value)?a.selectModel=e.value:a.selectModel=e.name,(a.selectCallback||angular.noop)(),n.removeClass("focus"),t&&t.stopPropagation()}}}}n.$inject=["$timeout","easingMap"],Object.defineProperty(exports,"__esModule",{value:!0});var i=t(69),s=a(i);t(70),exports.default={name:"zSelect",fn:n}},function(e,exports){var t="A-components/z-select/template.view.html",a='<div class=z-select ng-class="type?type:\'\'"> <div class=form-control ng-mousedown=opendown($event) ng-mouseup=openSelect($event)> <div class=input-cover></div> <input type=text readonly=readonly ng-model=selectName ng-focus=focus($event) ng-blur=blur($event) placeholder={{placeholder}}> <div class=z-select-btn></div> </div> <ul class=z-select-list> <li ng-mousedown=selctdown($event) ng-mouseup=selected(item,$event) ng-repeat="item in selectListData" ng-class="{\'active\':item.name==selectName&&selectValue==item.value}">{{item.name}}</li> </ul> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports){},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(){"ngInject";return{restrict:"AE",templateUrl:s.default,replace:!0,scope:{spinnerModel:"=?spinnerModel",spinnerScale:"@spinnerScale",maxValue:"@maxValue",spinnerChange:"&"},link:function(e,t,a){var n,i=e.spinnerScale?parseInt(e.spinnerScale,10):1,s=0;e.spinnerModel?e.spinnerModel=parseInt(e.spinnerModel,10):e.spinnerModel=i,e.maxValue&&(s=parseInt(e.maxValue,10),n=s%i,n>0)&&(s-=n),e.onchange=function(t){(e.spinnerChange||angular.noop)({$value:t})},e.up=function(){s&&e.spinnerModel>=s||(e.spinnerModel+=i,e.onchange(e.spinnerModel))},e.down=function(){e.spinnerModel>i&&(e.spinnerModel-=i),e.onchange(e.spinnerModel)},e.spinnerFocus=function(){t.data("oldvalue",e.spinnerModel)},e.spinnerBlur=function(){s&&e.spinnerModel>s?e.spinnerModel=s:(n=e.spinnerModel%i)>0&&(e.spinnerModel-=n),t.data("oldvalue")!=e.spinnerModel&&e.onchange(e.spinnerModel)}}}}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(72),s=a(i);t(73),exports.default={name:"zSpinner",fn:n}},function(e,exports){var t="A-components/z-spinner/template.view.html",a='<div class="z-spnner clearfix form-control"> <div class=z-spnner-input> <input type=text ng-model=spinnerModel ng-blur=spinnerBlur() ng-focus=spinnerFocus()> </div> <div class="pull-right z-spnner-btns"> <div class=up ng-click=up()></div> <div class=down ng-click=down()></div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports){},function(e,exports,t){"use strict";function a(e){"ngInject";return{restrict:"A",link:function(t,a,n){e(function(){var e=a.find("thead>tr>th"),t=[],n=function(n){var i=a.parent().width();a.css({width:i}),angular.forEach(e,function(a,s){var r=e.eq(s)[0].style.width;r&&(t.push(s),i-=parseInt(r,10)),n||s!=e.length-1&&e.eq(s).append('<div class="table-th-line"></div>')});var s=i/(e.length-t.length);angular.forEach(e,function(a,n){t.indexOf(n)>-1||e.eq(n).css({width:s})})};n(),e.on({mouseenter:function(){for(var t=angular.element(this).addClass("border-right"),n=a.find("tbody>tr"),i=0;i<n.length;i++)n.eq(i).find("td").eq(e.index(t)).addClass("border-right")},mouseleave:function(){for(var t=angular.element(this).removeClass("border-right"),n=a.find("tbody>tr"),i=0;i<n.length;i++)n.eq(i).find("td").eq(e.index(t)).removeClass("border-right")}});var i=0,s=null,r=function(e){var t=i-e.clientX;a.css({width:parseInt(a[0].style.width)-t});var n=parseInt(s[0].style.width)-t;s.css({width:n}),i=e.clientX};e.on({mousedown:function(e){i=e.clientX;var t=angular.element(this);s=t.parent(),angular.element(document).on({mousemove:r})},mouseup:function(e){angular.element(document).off("mousemove",r)}},".table-th-line");var o=function(e){angular.element(document).off("mousemove",r)};angular.element(document).off("mouseup",o).on({mouseup:o})})}}}a.$inject=["$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),t(75),exports.default={name:"zTableResize",fn:a}},function(e,exports){},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a=t(77),n=angular.module("page-animate",[]);a.keys().forEach(function(e){n.animation(a(e).default.name,a(e).default.fn)}),exports.default=n.name},function(e,exports,t){function a(e){return t(n(e))}function n(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./expandDown.animate.js":78};a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id=77},function(e,exports){"use strict";function t(e,t,a){var n=jQuery(e),i=e[0].getBoundingClientRect();n.velocity("stop"),n.css({position:"relative",top:"-20px",left:0,height:0,overflow:"hidden"}).velocity({top:0,height:i.height},300,a.easeOut,function(){n.removeAttr("style"),t()})}function a(e,t,a){var n=jQuery(e),i=e[0].getBoundingClientRect();n.velocity("stop"),n.css({overflow:"hidden",position:"relative",height:i.height}).velocity({height:0,paddingTop:0,paddingBottom:0},300,a.easeOut,function(){n.removeAttr("style"),t()})}function n(e){"ngInject";return{enter:function(a,n){t(a,n,e)},move:function(e,t){},leave:function(t,n){a(t,n,e)},addClass:function(t,n,i){a(t,i,e)},removeClass:function(a,n,i){t(a,i,e)}}}n.$inject=["easingMap"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={name:".expandDown",fn:n}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a=t(80),n=angular.module("page-filter",[]);a.keys().forEach(function(e){n.filter(a(e).default.name,a(e).default.fn)}),exports.default=n.name},function(e,exports,t){function a(e){return t(n(e))}function n(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./hasField.filter.js":81,"./noField.filter.js":82};a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id=80},function(e,exports){"use strict";function t(){return function(e,t,a){return e.filter(function(e,n){if(e[t]===a)return!0})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={name:"noField",fn:t}},function(e,exports){"use strict";function t(){return function(e,t,a){return e.filter(function(e,n){if(e[t]!==a)return!0})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={name:"hasField",fn:t}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),t(84);var a=t(88),n=angular.module("page-service",[]);a.keys().forEach(function(e){var t=a(e).default;n[t.method](t.name,t.fn)}),exports.default=n.name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=t(85),i=a(n),s=t(87),r=a(s);!function(){if(void 0==localStorage.getItem("userData")){localStorage.removeItem("region"),localStorage.removeItem("branch"),localStorage.removeItem("use"),localStorage.removeItem("appList"),localStorage.removeItem("superRole"),localStorage.removeItem("roleData"),localStorage.removeItem("userData");var e=[{name:"省级",code:"440000"},{name:"广州市",code:"440100"},{name:"韶关市",code:"440200"},{name:"深圳市",code:"440300"},{name:"珠海市",code:"440400"},{name:"汕头市",code:"440500"},{name:"佛山市",code:"440600"},{name:"江门市",code:"440700"},{name:"湛江市",code:"440800"},{name:"茂名市",code:"440900"},{name:"肇庆市",code:"441200"},{name:"惠州市",code:"441300"},{name:"梅州市",code:"441400"},{name:"汕尾市",code:"441500"},{name:"河源市",code:"441600"},{name:"阳江市",code:"441700"},{name:"清远市",code:"441800"},{name:"东莞市",code:"441900"},{name:"中山市",code:"442000"},{name:"潮州市",code:"445100"},{name:"揭阳市",code:"445200"},{name:"云浮市",code:"445300"}],t=[{name:"工商局"},{name:"民政局"},{name:"税务局"},{name:"公安局"},{name:"国税局"}],a=[{name:"用途1"},{name:"用途2"},{name:"用途3"}],n=[];e.forEach(function(e){for(var a=0;a<t.length-2;a++){var i={region:e.name,name:t[Math.round(Math.random()*(t.length-1))].name},s=!1;n.forEach(function(e){i.region==e.region&&i.name==e.name&&(s=!0)}),s||n.push(i)}}),localStorage.setItem("region",(0,i.default)(e)),localStorage.setItem("branch",(0,i.default)(n)),localStorage.setItem("use",(0,i.default)(a));var s=r.default.mock({"list|100":[{"id|+1":1,createTime:function(){return r.default.Random.date("yyyy-MM-dd")},use:function(){return a[Math.round(Math.random()*(a.length-1))].name},region:function(){return e[Math.round(Math.random()*(e.length-1))].name},branch:function(){var e=this.region,t=n.filter(function(t){if(t.region==e)return!0});return t[Math.round(Math.random()*(t.length-1))].name},appname:function(){return"应用名称-"+this.id},dict:function(){return r.default.Random.cparagraph(2,4)},url:"https://www.baidu.com",hasLove:!1,enabled:!1}]});s.list.sort(function(e,t){var a=e.createTime.split("-"),n=t.createTime.split("-");return a[0]<n[0]?1:a[0]>n[0]?-1:a[1]<n[1]?1:a[1]>n[1]?-1:a[2]<n[2]?1:a[2]>n[2]?-1:0}),localStorage.setItem("appList",(0,i.default)(s.list));var o=[{id:2,roleName:"管理员",permission:{appManage:!0,userManage:!0,roleManage:!0,admin:!0},region:"通用",branch:"通用",enbleRemove:!1,hideRole:!0},{id:3,roleName:"普通用户",permission:{appManage:!1,userManage:!1,roleManage:!1},region:"通用",branch:"通用",enbleRemove:!1
}],l=[{id:1,roleName:"超级管理员",permission:{appManage:!0,userManage:!0,roleManage:!0,branchManage:!0,super:!0,admin:!0},enbleRemove:!1,enbleRole:!0}];localStorage.setItem("superRole",(0,i.default)(l)),localStorage.setItem("roleData",(0,i.default)(o));var c=r.default.mock({"list|50":[{"id|+1":1,createTime:function(){return r.default.Random.date("yyyy-MM-dd")},userName:function(){return"user-"+this.id},password:"123456",region:function(){return e[Math.round(Math.random()*(e.length-1))].name},branch:function(){var e=this,t=n.filter(function(t){if(e.region==t.region)return!0});return t[Math.round(Math.random()*(t.length-1))].name},roleName:function(){return o[Math.round(Math.random()*(o.length-1))].roleName},enbleRemove:!0,email:function(){return r.default.Random.email()},mobile:function(){return r.default.Random.zip()},useApp:function(){for(var e=[],t=Math.ceil(10*Math.random()),a=0;a<t;a++){var n=s.list[Math.round(Math.random()*(s.list.length-1))].id;e.indexOf(n)==-1&&e.push(n)}return e},loveApp:function(){for(var e=[],t=Math.ceil(7*Math.random()),a=0;a<t;a++){var n=s.list[Math.round(Math.random()*(s.list.length-1))].id;e.indexOf(n)==-1&&e.push(n)}return e}}]}),u=[];s.list.forEach(function(e){u.push(e.id)}),c.list=c.list.concat([{branch:"全部",createTime:"1992-09-16",email:"g.yvbnvybd@lqux.ck",enbleRemove:!0,id:55,mobile:"167665",password:"superAdmin",region:"全部",roleName:"超级管理员",userName:"superAdmin",useApp:u,loveApp:[]}]),localStorage.setItem("userData",(0,i.default)(c.list))}}()},,,,function(e,exports,t){function a(e){return t(n(e))}function n(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./SingleScorll.service.js":89,"./getControlNavData.service.js":90,"./httpServer.service.js":91,"./iframeWin.service.js":92,"./listSetActive.service.js":93,"./zAlert/zalert.service.js":94,"./zModal/modal.service.js":98,"./zNotification/zNotification.service.js":100};a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id=88},function(e,exports){"use strict";function t(){"ngInject";return function(){angular.element(document).off("scroll").on("scroll",function(){var e=document.querySelector("#configInfos"),t=angular.element(e);if(document.body.scrollTop>80){if(t.hasClass("hasfixed"))return;var e=document.querySelector("#configInfos"),a=e.getBoundingClientRect();angular.element(e).addClass("hasfixed").css({position:"fixed",top:80,left:a.left,right:"auto",transition:"0.3s ease-out"})}else t.removeClass("hasfixed").removeAttr("style")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={name:"SingleScorll",fn:t,method:"factory"}},function(e,exports){"use strict";function t(e){"ngInject";function t(){var t,a;return 1==e.witchpage?(a={title:"云主机控制台",icon:"fa-cubes"},t=[{name:"总览",router:"control-head.control-frame.control-hostall",icon:"fa-globe"},{name:"弹性云主机",router:"control-head.control-frame.control-cloudhost",icon:"fa-hdd-o"},{name:"云硬盘",router:"control-head.control-frame.control-clouddisk",icon:"fa-floppy-o"},{name:"磁盘类型",router:"control-head.control-frame.control-clouddiskType",icon:"fa-inbox"},{name:"云硬盘备份",router:"control-head.control-frame.control-diskbackup",icon:"fa fa-print"},{name:"镜像",router:"control-head.control-frame.control-cloudclone",icon:"fa-clone"},{name:"镜像类型",router:"control-head.control-frame.control-clonetype",icon:"fa-laptop"},{name:"弹性伸缩",router:"control-head.control-frame.control-flexible",icon:"fa-object-ungroup"},{name:"弹性负载均衡",router:"control-head.control-frame.control-balancing",icon:"fa-object-group"},{name:"密钥对",router:"control-head.control-frame.control-keys",icon:"fa-key"}]):2==e.witchpage&&(a={title:"网络控制台",icon:"fa-diamond"},t=[{name:"总览",router:"control-head.control-frame.control-hostall",icon:"fa-globe"},{name:"虚拟私有云",router:"control-head.control-frame.control-privatecloud",icon:"fa-cloud-upload"},{name:"安全组",router:"control-head.control-frame.control-security",icon:"fa-life-ring"},{name:"弹性IP",router:"control-head.control-frame.control-ip",icon:"fa-paper-plane-o"},{name:"VPN",router:"control-head.control-frame.control-vpn",icon:"fa-vimeo"}]),{sideNavData:t,titleInfo:a}}return t}t.$inject=["$stateParams"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={name:"getControlNavData",fn:t,method:"factory"}},function(e,exports){"use strict";function t(e,t,a,n,i,s){"ngInject";return function(t,a,n){var i=s.defer(),r={url:a,method:t};return"get"==t&&(r.params=n),"post"==t&&(r.data=n),e(r).then(function(e){0==e.data.errstatus?i.resolve(e.data):i.reject(e.data),i.notify(e.data)},function(e){i.reject(e.data),i.notify(e.data)}),i.promise}}t.$inject=["$http","$state","$rootScope","$timeout","$location","$q"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={name:"httpServer",fn:t,method:"factory"}},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=function(){function e(t){"ngInject";(0,i.default)(this,e),this._rootScope=t}return e.$inject=["$rootScope"],(0,r.default)(e,[{key:"open",value:function(e){var t=document.querySelector("#iframeWin"),a=this;this._rootScope.iframeLoading=!0,t.onload=function(){a._rootScope.iframeLoading=!1},t.src=e.url,this._rootScope.showIframeWin=!0,angular.element(document.body).addClass("main-iframe")}},{key:"close",value:function(){document.querySelector("#iframeWin").src="",this._rootScope.showIframeWin=!1,angular.element(document.body).removeClass("main-iframe")}}]),e}();exports.default={name:"iframeWin",fn:o,method:"service"}},function(e,exports){"use strict";function t(e){"ngInject";return function(e,t){var a=e.currentTarget,n=a.getBoundingClientRect(),i=angular.element(a).parent().parent().parent();t.pointLeft=n.left+n.width/2-i[0].getBoundingClientRect().left+"px",i.find(".active-stragegy").removeClass("active-stragegy"),angular.element(a).addClass("active-stragegy")}}t.$inject=["$stateParams"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={name:"setActive",fn:t,method:"factory"}},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=t(95),l=a(o),c=t(96),u=a(c);t(97);var d=function(){function e(t){"ngInject";(0,i.default)(this,e),this._uimodal=t}return e.$inject=["$uiModal"],(0,r.default)(e,[{key:"open",value:function(e){this._uimodal.open({templateUrl:l.default,controller:u.default,controllerAs:"vm",size:"sm",windowClass:"alert-dialog alert-dialog-ctg z-alert",resolve:{alert:function(){return{title:e.title,action:e.action}}}}).result.then(e.onAction,e.onCancel)}}]),e}();exports.default={name:"zAlert",fn:d,method:"service"}},function(e,exports){var t="A-page-service/zAlert/zalert.view.html",a='<div class=modal-header> <div class=modal-title> 确认{{vm.action}} <span class=text-danger>{{vm.title}}</span> ? </div> </div> <div class=modal-body> <button type=buton class="btn btn-default btn-sm" ng-click=vm.cancel()>取消</button> <button type=buton class="btn btn-danger btn-sm" ng-click=vm.ok()>{{vm.action}}</button> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=function(){function e(t,a){"ngInject";(0,i.default)(this,e),this._modalInstance=a,this.title=t.title,this.action=t.action}return e.$inject=["alert","$modalInstance"],(0,r.default)(e,[{key:"ok",value:function(){this._modalInstance.close()}},{key:"cancel",value:function(){this._modalInstance.dismiss()}}]),e}();exports.default=o},function(e,exports){},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){"ngInject";return function(t,a,n,i,r){var o=e.open({templateUrl:s.default,controller:t,controllerAs:"vm",size:r?r:"lg",resolve:a});o.result.then(n).catch(i)}}n.$inject=["$uiModal"],Object.defineProperty(exports,"__esModule",{value:!0});var i=t(99),s=a(i);exports.default={name:"zModal",fn:n,method:"factory"}},function(e,exports){var t="A-page-service/zModal/modal.view.html",a='<div class=modal-header> <h4 class=modal-title>{{vm.modalOpt.title}}</h4> </div> <div class=modal-body ng-include=vm.modalOpt.contentUrl> </div> <div class=modal-footer ng-hide=vm.modalOpt.hideBtn> <button class="btn btn-primary" type=button ng-click=vm.modalOpt.ok()>确定</button> <button class="btn btn-warning" type=button ng-click=vm.modalOpt.cancel()>取消</button> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=function(){function e(t){"ngInject";(0,i.default)(this,e),this._uiNotification=t,this.options={title:"",message:"",positionX:"right",positionY:"top",closeOnClick:!0,onClose:void 0,delay:3e3}}return e.$inject=["uiNotification"],(0,r.default)(e,[{key:"success",value:function(e){this.options.message=e,this._uiNotification.success(this.options)}},{key:"error",value:function(e){this.options.message=e,this._uiNotification.error(this.options)}}]),e}();exports.default={name:"zNotification",fn:o,method:"service"}},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(102),i=a(n),s=t(106),r=a(s),o=t(107);exports.default=angular.module("main.login",[]).config(i.default).factory("easingMap",o.easingMap).directive(r.default.name,r.default.fn).animation(".slide-left",o.slideLeft).animation(".slide-right",o.slideRight).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){"ngInject";t.state("login",{url:"/login/:entry",controller:o.default,controllerAs:"vm",templateUrl:s.default})}n.$inject=["$urlRouterProvider","$stateProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(103),s=a(i),r=t(104),o=a(r)},function(e,exports){var t="pages/login/login.view.html",a='<section login-bg class=login-box> <img ng-src={{vm.bg.login}} class=login-bg alt=""> <div class=login-title> <header class=logo> <span class="fa-stack fa-lg"> <i class="fa fa-recycle fa-stack-2x" style=font-size:3em></i> </span> <span>大数据应用服务框架<span class=little-title>{{vm.admin}}</span></span> </header> </div> <div class="login-body slide-left"> <div class=bg></div> <form class=content ng-submit=loginForm.$valid&&vm.login() ng-class="{\'loginerror\':vm.loginerror}" name=loginForm> <div class=content-name>登录</div> <div class=form-group> <p class="text-danger show-error" ng-show=vm.loginerror>用户名或密码不正确。</p> <input ng-focus=vm.focus() type=text name=username ng-model=vm.logindata.username class=form-control id="" placeholder=用户名 required> </div> <div class=form-group> <input ng-focus=vm.focus() type=password name=password ng-model=vm.logindata.password class=form-control id="" placeholder=密码 required> </div> <div class=form-group> <button type=submit class="btn btn-primary">登录</button> </div> </form> </div> </section>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(85),i=a(n),s=t(12),r=a(s),o=t(13),l=a(o),c=t(105),u=a(c),d=function(){function e(t,a,n,i){"ngInject";(0,r.default)(this,e);var s=this;this._state=t,this._stateParams=i,this.bg={login:u.default},s.logindata={},s.registerdata={},s.loginReset=function(){s.logindata.username="",s.logindata.password=""},s.registerReset=function(){s.registerdata.username="",s.registerdata.password1="",s.registerdata.password2="",s.registerdata.email="",s.registerdata.mobile=""},sessionStorage.setItem("entry",this._stateParams.entry),this.admin="","admin"==this._stateParams.entry&&(this.admin="(后台管理)")}return e.$inject=["$state","$scope","httpServer","$stateParams"],(0,l.default)(e,[{key:"login",value:function(){for(var e=JSON.parse(localStorage.getItem("userData")),t=0;t<e.length;t++){var a=e[t];if(a.userName==this.logindata.username&&a.password==this.logindata.password){var n=JSON.parse(localStorage.getItem("roleData"));if("超级管理员"==a.roleName){var s=JSON.parse(localStorage.getItem("superRole"));a.permission=s[0].permission}else for(var r=0;r<n.length;r++)if("通用"==n[r].region&&"通用"==n[r].branch&&a.roleName==n[r].roleName||a.region==n[r].region&&a.branch==n[r].branch&&a.roleName==n[r].roleName){a.permission=n[r].permission;break}if("admin"==this._stateParams.entry&&!a.permission.admin){this.loginerror=!0;break}var o="myapp";"admin"==this._stateParams.entry&&(o="appSetting"),sessionStorage.setItem("thisUser",(0,i.default)(a)),console.log(a),this._state.go("pages."+o,{entry:this._stateParams.entry});break}this.loginerror=!0}}},{key:"register",value:function(){}},{key:"focus",value:function(){this.loginerror=!1}}]),e}();exports.default=d},function(e,exports,t){e.exports=t.p+"images/registerbg.png"},function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={name:"loginBg",fn:["$document",function(e){"ngInject";return{restrict:"A",link:function(e,t,a){var n=document.documentElement.clientWidth,i=document.documentElement.clientHeight;t.css({width:n,height:i})}}}]}},function(e,exports){"use strict";function t(){return{linear:[.25,.25,.75,.75],ease:[.25,.1,.25,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1],easeInQuad:[.55,.085,.68,.53],easeInCubic:[.55,.055,.675,.19],easeInQuart:[.895,.03,.685,.22],easeInQuint:[.755,.05,.855,.06],easeInSine:[.47,0,.745,.715],easeInExpo:[.95,.05,.795,.035],easeInCirc:[.6,.04,.98,.335],easeInBack:[.6,-.28,.735,.045],easeOutQuad:[.25,.46,.45,.94],easeOutCubic:[.215,.61,.355,1],easeOutQuart:[.165,.84,.44,1],easeOutQuint:[.23,1,.32,1],easeOutSine:[.39,.575,.565,1],easeOutExpo:[.19,1,.22,1],easeOutCirc:[.075,.82,.165,1],easeOutBack:[.175,.885,.32,1.275],easeInOutQuad:[.455,.03,.515,.955],easeInOutCubic:[.645,.045,.355,1],easeInOutQuart:[.77,0,.175,1],easeInOutQuint:[.86,0,.07,1],easeInOutSine:[.445,.05,.55,.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[.785,.135,.15,.86],easeInOutBack:[.68,-.55,.265,1.55],custom:[0,.35,.5,1.3],random:[Math.random().toFixed(3),Math.random().toFixed(3),Math.random().toFixed(3),Math.random().toFixed(3)]}}function a(e){"ngInject";return{enter:function(t,a){var n=jQuery(t),i=t[0].getBoundingClientRect();n.css({position:"absolute",top:i.top,left:i.left-400,opacity:0}).velocity({left:i.left+"px",opacity:1},800,e.easeOut,function(){n.removeAttr("style"),a()})},move:function(e,t){},leave:function(t,a){var n=jQuery(t),i=t[0].getBoundingClientRect();n.css({position:"absolute",top:i.top,left:i.left,opacity:1}).velocity({left:i.left-400+"px",opacity:0},800,e.easeOut,function(){n.removeAttr("style"),a()})}}}function n(e){"ngInject";return{enter:function(t,a){var n=jQuery(t),i=t[0].getBoundingClientRect();n.css({position:"absolute",top:i.top,left:i.left+400,opacity:0}).velocity({left:i.left+"px",opacity:1},800,e.easeOut,function(){n.removeAttr("style"),a()})},move:function(e,t){},leave:function(t,a){var n=jQuery(t),i=t[0].getBoundingClientRect();n.css({position:"absolute",top:i.top,left:i.left,opacity:1}).velocity({left:i.left+400+"px",opacity:0},800,e.easeOut,function(){n.removeAttr("style"),a()})}}}a.$inject=["easingMap"],n.$inject=["easingMap"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.slideLeft=a,exports.slideRight=n,exports.easingMap=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(109),i=a(n);exports.default=angular.module("main.appSetting",[]).config(i.default).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){"ngInject";e.state("pages.appSetting",{url:"/appSetting",controller:s.default,controllerAs:"vm",templateUrl:o.default})}n.$inject=["$stateProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(110),s=a(i),r=t(111),o=a(r)},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=function(){function e(t,a,n,s){"ngInject";(0,i.default)(this,e),this._zAlert=t,this._state=a,this._timeout=n,this._filter=s,this.searchWord="",this.region=JSON.parse(localStorage.getItem("region")),this.region.unshift({name:"全部",active:!0}),this.chosion={region:this.region,branch:[]},this.headInfo={title:"应用服务管理",btnGroup:[],crumbs:[{name:"首页",router:"pages"},{name:"应用服务管理"}],hideBack:!0},this.page={page:1,page_size:6,total:0},this.filtrate={keyword:"",region:"全部",branch:"全部",use:"全部"},this.getThisUser(),this.myBranch()}return e.$inject=["zAlert","$state","$timeout","$filter"],(0,r.default)(e,[{key:"getThisUser",value:function(){this.User=JSON.parse(sessionStorage.getItem("thisUser")),this.super=this.User.permission.super,this.getApps()}},{key:"getApps",value:function(){var e=JSON.parse(localStorage.getItem("appList"));this.Apps=e.filter(function(e){return!0}),this.filterApp()}},{key:"getBranch",value:function(){var e=this,t=JSON.parse(localStorage.getItem("branch"));t=t.filter(function(t){if(e.filtrate.region==t.region)return!0}),t.unshift({name:"全部"}),this.chosion.branch=t,this.selectBranch("branch",t[0])}},{key:"notMyBranch",value:function(){this.filtrate.region==this.User.region&&this.filtrate.branch==this.User.branch?this.isMyBranch=!0:this.isMyBranch=!1}},{key:"selectRB",value:function(e){for(var t=0;t<this.chosion[e].length;t++)this.chosion[e][t].name==this.filtrate[e]?this.chosion[e][t].active=!0:this.chosion[e][t].active=!1}},{key:"myBranch",value:function(){this.filtrate.keyword="",this.searchWord="",this.filtrate.region=this.User.region,this.selectRB("region"),this.getBranch(),this.filtrate.branch=this.User.branch,this.selectRB("branch"),this.filterApp(),this.getList()}},{key:"filterApp",value:function(){var e=this;this.page.page=1;var t=this.Apps.slice(0);""!=this.filtrate.keyword&&(t=this._filter("filter")(t,this.filtrate.keyword)),"全部"!=this.filtrate.region&&(t=t.filter(function(t){if(t.region==e.filtrate.region)return!0})),"全部"!=this.filtrate.branch&&(t=t.filter(function(t){if(t.branch==e.filtrate.branch)return!0})),"全部"!=this.filtrate.use&&(t=t.filter(function(t){if(t.use==e.filtrate.use)return!0})),this.notMyBranch(),this.super?t.forEach(function(e){e.enabelEdit=!0,e.enabelRemove=!0}):t.forEach(function(t){e.isMyBranch?(t.enabelEdit=!0,t.enabelRemove=!0):(t.enabelEdit=!1,t.enabelRemove=!1)}),this.AppsList=t}},{key:"selectRegion",value:function(e,t){this.setSeartionActive(e,t),this.filtrate.region=t.name,this.getBranch(),this.filterApp(),this.getList()}},{key:"selectBranch",value:function(e,t){this.setSeartionActive(e,t),this.filtrate.branch=t.name,this.filterApp(),this.getList()}},{key:"selectUse",value:function(e,t){this.setSeartionActive(e,t),this.filtrate.use=t.name,this.filterApp(),this.getList()}},{key:"setSeartionActive",value:function(e,t){for(var a=0;a<this.chosion[e].length;a++)if(this.chosion[e][a].active){this.chosion[e][a].active=!1;break}t.active=!0}},{key:"keywordClose",value:function(){this.searchWord="",this.filtrate.keyword="",this.filterApp(),this.getList()}},{key:"search",value:function(){this.filtrate.keyword=this.searchWord,this.filterApp(),this.getList()}},{key:"getList",value:function(){var e=this;this.usersList=null,this._timeout(function(){var t=e.page.page_size,a=e.page.page_size*(e.page.page-1);e.usersList=e._filter("limitTo")(e.AppsList,t,a),e.page.total=e.AppsList.length},250)}},{key:"changePage",value:function(){this.getList()}}]),e}();exports.default=o},function(e,exports){var t="pages/main/appSetting/appSetting.view.html",a='<z-page-header header-info=vm.headInfo></z-page-header> <header class="base-clone-content margin-bottom-20 margin-top-10"> <div class="margin-bottom-20 clearfix"> <div class=pull-left> <a ui-sref=pages.appcreate class="btn btn-primary"><i class="fa fa-plus"></i> 应用服务接入</a> </div> <form class="form-inline pull-right" ng-submit=vm.search()> <div class=form-group> <input ng-model=vm.searchWord type=text class=form-control placeholder=请输入关键词> </div> <div class=form-group> <button type=submit class="btn btn-primary"><i class="fa fa-search"></i> 搜索</button> </div> </form> </div> <div class="panel panel-border"> <div class=panel-heading> 筛选 </div> <div class=panel-body> <div class=margin-bottom-10><button class=btn ng-disabled=vm.isMyBranch ng-class="vm.isMyBranch?\'btn-default text-danger\':\'btn-info\'" ng-click=vm.myBranch() ng-if=!vm.super>我的部门应用<span ng-show=vm.isMyBranch> √</span></button></div> <div class=type-choose> <dl class=clearfix ng-show=vm.filtrate.keyword> <dt>关键词</dt> <dd><a class=active>{{vm.filtrate.keyword}}<i class="fa fa-times margin-left-10 cursor-pointer" ng-click=vm.keywordClose()></i></a></dd> </dl> <dl class="clearfix flex-box"> <dt>地区</dt> <dd class=flex-1><a href="" ng-click="vm.selectRegion(\'region\',a)" ng-class="{\'active\':a.active}" ng-repeat="a in vm.chosion.region">{{a.name}}</a></dd> </dl> <dl class="clearfix flex-box"> <dt>部门</dt> <dd class=flex-1><a href="" ng-click="vm.selectBranch(\'branch\',a)" ng-class="{\'active\':a.active}" ng-repeat="a in vm.chosion.branch">{{a.name}}</a></dd> </dl> </div> </div> </div> </header> <div class="panel panel-border"> <div class=panel-heading> 应用服务列表 </div> <div class=panel-body> <section class=row z-interleave> <div class="col-md-6 col-lg-4 user" z-interleave-class=user-clear ng-repeat="item in vm.usersList"> <div class="panel panel-border panel-border-shadow border-left-strong"> <z-more-panel open-panel=item.openMoreData></z-more-panel> <div class="panel-heading clearfix"> <strong class="pull-left user-name">{{item.appname}}</strong> <div class="panel-tool pull-right"> <i ng-show=item.enabelEdit class="fa fa-pencil cursor-pointer margin-right-10" ui-tooltip=修改 ng-click=vm.editUser(item.id)></i> <i ng-show=item.enabelRemove class="fa fa-trash-o cursor-pointer" ng-click=vm.deleteUser(item) ui-tooltip=删除></i> </div> </div> <div class="panel-body user-infos"> <dl class=flex-box> <dt class=padding-right-10>所属地区 : </dt> <dd class=flex-1>{{item.region}}</dd> <dt class=padding-right-10>所属部门 : </dt> <dd class=flex-1>{{item.branch}}</dd> </dl> <dl class=flex-box> <dt class=padding-right-10>上线时间 : </dt> <dd class=flex-1>{{item.createTime}}</dd> </dl> <dl class=flex-box> <dt class=padding-right-10>主要用途 : </dt> <dd class=flex-1>{{item.use}}</dd> </dl> <p><strong>应用简介 : </strong></p> <p class="text-default text-dict"> {{item.dict}} </p> </div> </div> </div> <div class="text-center margin-top-10 margin-bottom-10" ng-show=!vm.usersList> <ui-loading type=spin size=sm></ui-loading> </div> <p class="text-center text-danger" ng-show="vm.usersList.length==0">无相关数据</p> </section> <ui-pagination-group ng-model=vm.page.page items-per-page=vm.page.page_size total-items=vm.page.total ng-change=vm.changePage() on-refresh=vm.changePage()></ui-pagination-group> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(113),i=a(n);exports.default=angular.module("main.appcreate",[]).config(i.default).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){"ngInject";t.when("/main/appcreate","/main/appcreate/base"),e.state("pages.appcreate",{url:"/appcreate?:id",controller:s.default,controllerAs:"vm",templateUrl:o.default})}n.$inject=["$stateProvider","$urlRouterProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(114),s=a(i),r=t(115),o=a(r)},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=function e(t){"ngInject";(0,i.default)(this,e),this.headInfo={title:"应用服务接入",btnGroup:null,onBack:function(){t.go("pages.appSetting")},crumbs:[{name:"应用服务",router:"pages.apps"},{name:"应用服务接入"}]}};s.$inject=["$state"],exports.default=s},function(e,exports){var t="pages/main/appSetting/create/appcreate.view.html",a='<z-page-header header-info=vm.headInfo></z-page-header> <div class="service-create-nav margin-bottom-30"> <ul> <li class=done> <span>应用信息</span> <div></div> </li> <li ng-class="{\'done\': vm.step >= 2}"> <span>开发设置</span> <div></div> </li> </ul> </div> <div style=margin-bottom:60px ui-view></div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(117),i=a(n);exports.default=angular.module("main.base",[]).config(i.default).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){"ngInject";e.state("pages.appcreate.base",{url:"/base",controller:s.default,controllerAs:"vm",templateUrl:o.default})}n.$inject=["$stateProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(118),s=a(i),r=t(119),o=a(r)},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=function(){function e(t,a,n){"ngInject";(0,i.default)(this,e),this._state=a,this._timeout=n,this._parScope=t.$parent,this._parScope.vm.step=1,this.thisUser=JSON.parse(sessionStorage.getItem("thisUser")),this.super=this.thisUser.permission.super,this._parScope.app?this.app=this._parScope.app:this.app={urlType:"Iframe",region:this.thisUser.region,branch:this.thisUser.branch},this.super&&(this.region=JSON.parse(localStorage.getItem("region")),this.app.region="",this.app.branch="",this.region.unshift({name:""}),this.regionSelectList=this.region,this.branchSelectList=[{name:""}],this.getBranch()),this.btnName="下一步"}return e.$inject=["$scope","$state","$timeout"],(0,r.default)(e,[{key:"getBranch",value:function(){var e=this;setTimeout(function(){var t=JSON.parse(localStorage.getItem("branch"));t=t.filter(function(t){if(e.app.region==t.region)return!0}),t.length>0&&(e.app.branch=""),e.branchSelectList=t})}},{key:"next",value:function(){var e=this;this.btnLoading=!0,this._timeout(function(){e._parScope.app=e.app,e._state.go("pages.appcreate.seting"),e.btnLoading=!1},200)}}]),e}();exports.default=o},function(e,exports){var t="pages/main/appSetting/create/base/base.view.html",a=' <form name=createForm class=form-horizontal ng-submit=createForm.$valid&&vm.next()> <div class=form-group ng-class="{\'has-error\':(createForm.appname.$touched||createForm.$submitted)&&(createForm.appname.$error.required)}"> <label for="" class="control-label col-md-3 col-lg-2">应用名称:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <input ng-model=vm.app.appName name=appname type=text class=form-control required> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=form-group ng-class="{\'has-error\':(createForm.region.$touched||createForm.$submitted)&&(createForm.region.$error.required)}"> <label for="" class="control-label col-md-3 col-lg-2">所属地区:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <div ng-if=!vm.super> <input ng-model=vm.app.region name=region type=text class=form-control required disabled=disabled></div> <z-select ng-if=vm.super select-list-data=vm.regionSelectList select-model=vm.app.region select-callback=vm.getBranch()></z-select> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=form-group ng-class="{\'has-error\':(createForm.branch.$touched||createForm.$submitted)&&(createForm.branch.$error.required)}"> <label for="" class="control-label col-md-3 col-lg-2">所属部门:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <div ng-if=!vm.super><input ng-model=vm.app.branch name=branch type=text class=form-control required disabled=disabled></div> <z-select ng-if=vm.super select-list-data=vm.branchSelectList select-model=vm.app.branch></z-select> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=form-group ng-class="{\'has-error\':(createForm.url.$touched||createForm.$submitted)&&(createForm.url.$error.required)}"> <label for="" class="control-label col-md-3 col-lg-2">URL:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <input ng-model=vm.app.url name=url type=text class=form-control required> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=form-group> <label for="" class="control-label col-md-3 col-lg-2">接入类型:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4" style=padding-top:7px> <ui-radio-group ng-model=vm.app.urlType> <ui-radio value="\'Iframe\'" class=margin-right-10>Iframe嵌入</ui-radio> <ui-radio value="\'Url\'" class=margin-right-10>Url跳转</ui-radio> </ui-radio-group> </div> </div> <div class=form-group ng-class="{\'has-error\':(createForm.datafrom.$touched||createForm.$submitted)&&(createForm.datafrom.$error.required)}"> <label for="" class="control-label col-md-3 col-lg-2">数据来源:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <input ng-model=vm.app.datafrom name=datafrom type=text class=form-control required> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=form-group ng-class="{\'has-error\':(createForm.dict.$touched||createForm.$submitted)&&(createForm.dict.$error.required)}"> <label for="" class="control-label col-md-3 col-lg-2">应用简介:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <textarea rows=6 cols="" ng-model=vm.app.dict name=dict required class=form-control></textarea> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=main-footer> <div class="pull-right padding-right-15 padding-top-10"><button type=submit class="btn btn-primary btn-sm"><span ng-show=vm.btnLoading><i class="fa fa-cog fa-spin fa-fw fa-lg"></i></span> <span>{{vm.btnName}}</span></button></div> </div> </form>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(121),i=a(n);exports.default=angular.module("main.seting",[]).config(i.default).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){"ngInject";e.state("pages.appcreate.seting",{url:"/seting",controller:s.default,controllerAs:"vm",templateUrl:o.default})}n.$inject=["$stateProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(122),s=a(i),r=t(123),o=a(r)},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(85),i=a(n),s=t(12),r=a(s),o=t(13),l=a(o),c=function(){function e(t,a,n,i){"ngInject";return(0,r.default)(this,e),this._scope=t,this._filter=a,this._zNotification=i,t.$parent.vm.step=2,this.app=t.$parent.app,this.app?(this.setting="1",this.region=JSON.parse(localStorage.getItem("region")),this.User=JSON.parse(sessionStorage.getItem("thisUser")),this.chosion={region:this.region,branch:[],hasSelet:[]},this.btnName="应用接入",
this.filterWord={region:""},void this.selectRegion("region",this.region[0])):void n.go("pages.appcreate.base")}return e.$inject=["$scope","$filter","$state","zNotification"],(0,l.default)(e,[{key:"getBranch",value:function(){var e=this,t=JSON.parse(localStorage.getItem("branch"));t=t.filter(function(t){if(e.filterWord.region==t.region&&(e.User.region!=t.region||e.User.branch!=t.name))return!0}),angular.forEach(t,function(t){t.checked=!1;for(var a=0;a<e.chosion.hasSelet.length;a++)if(e.chosion.hasSelet[a].region==e.filterWord.region&&e.chosion.hasSelet[a].branch==t.name){t.checked=!0;break}}),this.chosion.branch=t}},{key:"seted",value:function(e){"1"==e?this.selectting=!1:(e="2")&&(this.selectting=!0)}},{key:"removeBranch",value:function(e){for(var t=0;t<this.chosion.hasSelet.length;t++)if(this.chosion.hasSelet[t].region==e.region&&this.chosion.hasSelet[t].branch==e.branch){this.chosion.hasSelet.splice(t,1);break}if(e.region==this.filterWord.region)for(var a=0;a<this.chosion.branch.length;a++)if(this.chosion.branch[a].name==e.branch){this.chosion.branch[a].checked=!1;break}}},{key:"selectRegion",value:function(e,t){this.setSeartionActive(e,t),this.filterWord.region=t.name,this.getBranch()}},{key:"selectBranch",value:function(e,t){if(e)this.chosion.hasSelet.push({region:this.filterWord.region,branch:t.name});else for(var a=0;a<this.chosion.hasSelet.length;a++)if(this.chosion.hasSelet[a].region==this.filterWord.region&&this.chosion.hasSelet[a].branch==t.name){this.chosion.hasSelet.splice(a,1);break}}},{key:"setSeartionActive",value:function(e,t){for(var a=0;a<this.chosion[e].length;a++)if(this.chosion[e][a].active){this.chosion[e][a].active=!1;break}t.active=!0}},{key:"create",value:function(){var e=this;this.btnLoading||(this.btnLoading=!0,setTimeout(function(){var t=JSON.parse(localStorage.getItem("appList")),a={createTime:e._filter("date")((new Date).getTime(),"yyyy-MM-dd"),use:"用途1",region:e.app.region,branch:e.app.branch,appname:e.app.appName,dict:e.app.dict,url:e.app.url,hasLove:!1,enabled:!0,openBranch:e.chosion.hasSelet};t.unshift(a),localStorage.setItem("appList",(0,i.default)(t)),e.btnLoading=!1,e._zNotification.success("应用进入成功")},250))}}]),e}();exports.default=c},function(e,exports){var t="pages/main/appSetting/create/seting/seting.view.html",a='<section class=base-clone-content> <div class="panel panel-border"> <div class=panel-body> <span class=margin-right-15>开放设置：</span> <ui-radio-group ng-model=vm.setting on-change=vm.seted(value)> <ui-radio value="\'1\'" class=margin-right-10>全部部门</ui-radio> <ui-radio value="\'2\'" class=margin-right-10>选择部门</ui-radio> </ui-radio-group> </div> </div> <div ng-show=vm.selectting> <div class="panel panel-border"> <div class=panel-heading> 请选择此应用开放给其他部门 </div> <div class=panel-body> <div class=type-choose> <dl class="clearfix flex-box"> <dt>选择地区</dt> <dd class=flex-1><a href="" ng-click="vm.selectRegion(\'region\',a)" ng-class="{\'active\':a.active}" ng-repeat="a in vm.chosion.region">{{a.name}}</a></dd> </dl> <dl class="clearfix flex-box"> <dt>选择部门</dt> <dd class=flex-1> <a ng-repeat="a in vm.chosion.branch"> <ui-checkbox checked=a.checked on-change="vm.selectBranch(checked, a)" class=margin-right-10>{{a.name}}</ui-checkbox> </a> </dd> </dl> </div> </div> </div> <div class="panel panel-border"> <div class=panel-body> <div class=type-choose> <dl class="clearfix flex-box"> <dt>已选部门</dt> <dd class=flex-1><a class=active ng-repeat="a in vm.chosion.hasSelet">{{a.region+\'-\'+a.branch}}<i class="fa fa-times margin-left-10 cursor-pointer" ng-click=vm.removeBranch(a)></i></a></dd> </dl> </div> </div> </div> </div> </section> <div class="main-footer padding-right-15 padding-top-10"> <div class="pull-left margin-left-10"> <a class="btn btn-primary-hoverborder" ui-sref=pages.appcreate.base>上一步</a> </div> <div class=pull-right><button type=submit class="btn btn-primary btn-sm" ng-click=vm.create()><span ng-show=vm.btnLoading><i class="fa fa-cog fa-spin fa-fw fa-lg"></i></span> <span>{{vm.btnName}}</span></button></div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(125),i=a(n);exports.default=angular.module("main.apps",[]).config(i.default).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){"ngInject";e.state("pages.apps",{url:"/apps",controller:s.default,controllerAs:"vm",templateUrl:o.default})}n.$inject=["$stateProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(126),s=a(i),r=t(127),o=a(r)},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(85),i=a(n),s=t(12),r=a(s),o=t(13),l=a(o),c=function(){function e(t,a,n,i,s){"ngInject";(0,r.default)(this,e),this._zAlert=t,this._state=a,this._timeout=n,this._filter=i,this._zNotification=s,this.searchWord="",this.region=JSON.parse(localStorage.getItem("region")),this.region.unshift({name:"全部",active:!0}),this.chosion={region:this.region,branch:[]},this.headInfo={title:"应用服务共享中心",btnGroup:[],crumbs:[{name:"首页",router:"pages"},{name:"应用服务"}],hideBack:!0},this.page={page:1,page_size:6,total:0},this.filtrate={keyword:"",region:"全部",branch:"全部",use:"全部"},this.getThisUser(),this.myBranch()}return e.$inject=["zAlert","$state","$timeout","$filter","zNotification"],(0,l.default)(e,[{key:"setUsers",value:function(){sessionStorage.setItem("thisUser",(0,i.default)(this.User));for(var e=JSON.parse(localStorage.getItem("userData")),t=0;t<e.length;t++)if(this.User.id==e[t].id){e.splice(t,1,this.User);break}localStorage.setItem("userData",(0,i.default)(e))}},{key:"getThisUser",value:function(){this.User=JSON.parse(sessionStorage.getItem("thisUser")),this.super=this.User.permission.super,this.getApps()}},{key:"getApps",value:function(){var e=this,t=JSON.parse(localStorage.getItem("appList"));this.Apps=t.filter(function(t){return e.User.loveApp.indexOf(t.id)>-1&&(t.hasLove=!0),e.User.useApp.indexOf(t.id)>-1&&(t.enabled=!0),!0}),this.filterApp()}},{key:"getBranch",value:function(){var e=this,t=JSON.parse(localStorage.getItem("branch"));t=t.filter(function(t){if(e.filtrate.region==t.region)return!0}),t.unshift({name:"全部"}),this.chosion.branch=t,this.selectBranch("branch",t[0])}},{key:"notMyBranch",value:function(){this.filtrate.region==this.User.region&&this.filtrate.branch==this.User.branch?this.isMyBranch=!0:this.isMyBranch=!1}},{key:"selectRB",value:function(e){for(var t=0;t<this.chosion[e].length;t++)this.chosion[e][t].name==this.filtrate[e]?this.chosion[e][t].active=!0:this.chosion[e][t].active=!1}},{key:"myBranch",value:function(){this.isMyBranch=!0,this.searchWord="",this.filtrate.keyword="",this.filtrate.region=this.User.region,this.selectRB("region"),this.getBranch(),this.filtrate.branch=this.User.branch,this.selectRB("branch"),this.filterApp(),this.getList()}},{key:"pushLove",value:function(e){var t=this,a="收藏";e.hasLove&&(a="取消收藏"),this._zAlert.open({title:e.appname,action:a,onAction:function(){if(e.hasLove){e.hasLove=!1;for(var a=t.User.loveApp,n=0;n<a.length;n++)if(e.id==a[n]){a.splice(n,1),t.setUsers(),t._zNotification.success("取消收藏成功");break}}else e.hasLove=!0,t.User.loveApp.push(e.id),t.setUsers(),t._zNotification.success("收藏成功");t.getThisUser()}})}},{key:"filterApp",value:function(){var e=this;this.page.page=1;var t=this.Apps;""!=this.filtrate.keyword&&(t=this._filter("filter")(t,this.filtrate.keyword)),"全部"!=this.filtrate.region&&(t=t.filter(function(t){if(t.region==e.filtrate.region)return!0})),"全部"!=this.filtrate.branch&&(t=t.filter(function(t){if(t.branch==e.filtrate.branch)return!0})),this.super||(t=t.filter(function(t){if(!t.openBranch)return!0;if(t.openBranch.length>0){for(var a=!1,n=0;n<t.openBranch.length;n++)if(t.openBranch[n].region==e.User.region&&t.openBranch[n].branch==e.User.branch){a=!0;break}if(a)return!0}else if(t.region==e.User.region&&t.branch==e.User.branch)return!0})),this.notMyBranch(),this.AppsList=t}},{key:"selectRegion",value:function(e,t){this.setSeartionActive(e,t),this.filtrate.region=t.name,this.getBranch(),this.filterApp(),this.getList()}},{key:"selectBranch",value:function(e,t){this.setSeartionActive(e,t),this.filtrate.branch=t.name,this.filterApp(),this.getList()}},{key:"selectUse",value:function(e,t){this.setSeartionActive(e,t),this.filtrate.use=t.name,this.filterApp(),this.getList()}},{key:"setSeartionActive",value:function(e,t){for(var a=0;a<this.chosion[e].length;a++)if(this.chosion[e][a].active){this.chosion[e][a].active=!1;break}t.active=!0}},{key:"keywordClose",value:function(){this.searchWord="",this.filtrate.keyword="",this.filterApp(),this.getList()}},{key:"search",value:function(){this.filtrate.keyword=this.searchWord,this.filterApp(),this.getList()}},{key:"getList",value:function(){var e=this;this.usersList=null,this._timeout(function(){var t=e.page.page_size,a=e.page.page_size*(e.page.page-1),n=e._filter("limitTo")(e.AppsList,t,a);e.usersList=n,e.page.total=e.AppsList.length},250)}},{key:"changePage",value:function(){this.getList()}}]),e}();exports.default=c},function(e,exports){var t="pages/main/apps/app.view.html",a='<z-page-header header-info=vm.headInfo></z-page-header> <header class="base-clone-content margin-bottom-20 margin-top-10"> <div class="margin-bottom-20 clearfix"> <form class="form-inline pull-right" ng-submit=vm.search()> <div class=form-group> <input ng-model=vm.searchWord type=text class=form-control placeholder=请输入关键词> </div> <div class=form-group> <button type=submit class="btn btn-primary"><i class="fa fa-search"></i> 搜索</button> </div> </form> </div> <div class="panel panel-border"> <div class=panel-heading> 筛选 </div> <div class=panel-body> <div class=margin-bottom-10><button class=btn ng-disabled=vm.isMyBranch ng-class="vm.isMyBranch?\'btn-default text-danger\':\'btn-info\'" ng-click=vm.myBranch() ng-if=!vm.super>我的部门应用<span ng-show=vm.isMyBranch> √</span></button></div> <div class=type-choose> <dl class=clearfix ng-show=vm.filtrate.keyword> <dt>关键词</dt> <dd><a class=active>{{vm.filtrate.keyword}}<i class="fa fa-times margin-left-10 cursor-pointer" ng-click=vm.keywordClose()></i></a></dd> </dl> <dl class="clearfix flex-box"> <dt>地区</dt> <dd class=flex-1><a href="" ng-click="vm.selectRegion(\'region\',a)" ng-class="{\'active\':a.active}" ng-repeat="a in vm.chosion.region">{{::a.name}}</a></dd> </dl> <dl class="clearfix flex-box"> <dt>部门</dt> <dd class=flex-1><a href="" ng-click="vm.selectBranch(\'branch\',a)" ng-class="{\'active\':a.active}" ng-repeat="a in vm.chosion.branch">{{::a.name}}</a></dd> </dl> </div> </div> </div> </header> <div class="panel panel-border"> <div class=panel-heading> 应用服务列表 </div> <div class=panel-body> <section class=row z-interleave> <div class="col-md-6 col-lg-4 user" z-interleave-class=user-clear ng-repeat="item in vm.usersList"> <div class="panel panel-border panel-border-shadow border-left-strong"> <z-more-panel open-panel=item.openMoreData></z-more-panel> <div class="panel-heading clearfix"> <strong class="pull-left user-name">{{::item.appname}}</strong> <div class="panel-tool pull-right"> <i ng-click=vm.pushLove(item) class="fa cursor-pointer margin-right-10" ng-class="item.hasLove?\'fa-heart\':\'fa-heart-o\'" ui-tooltip="{{item.hasLove?\'取消收藏\':\'收藏\'}}"></i> </div> </div> <div class="panel-body user-infos"> <dl class=flex-box> <dt class=padding-right-10>所属地区 : </dt> <dd class=flex-1>{{::item.region}}</dd> <dt class=padding-right-10>所属部门 : </dt> <dd class=flex-1>{{::item.branch}}</dd> </dl> <dl class=flex-box> <dt class=padding-right-10>上线时间 : </dt> <dd class=flex-1>{{::item.createTime}}</dd> </dl> <dl class=flex-box> <dt class=padding-right-10>主要用途 : </dt> <dd class=flex-1>{{::item.use}}</dd> </dl> <p><strong>应用简介 : </strong></p> <p class="text-default text-dict"> {{::item.dict}} </p> <p class=text-right> <button class="btn btn-primary btn-sm" ng-if=item.enabled>进入应用</button> <button class="btn btn-success btn-sm" ng-if=!item.enabled>申请使用</button> </p> </div> </div> </div> <div class="text-center margin-top-10 margin-bottom-10" ng-show=!vm.usersList> <ui-loading type=spin size=sm></ui-loading> </div> <p class="text-center text-danger" ng-show="vm.usersList.length==0">无相关数据</p> </section> <ui-pagination-group ng-model=vm.page.page items-per-page=vm.page.page_size total-items=vm.page.total ng-change=vm.changePage() on-refresh=vm.changePage()></ui-pagination-group> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(129),i=a(n);exports.default=angular.module("main.branchSetting",[]).config(i.default).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){"ngInject";e.state("pages.branchSetting",{url:"/branchSetting",controller:s.default,controllerAs:"vm",templateUrl:o.default})}n.$inject=["$stateProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(130),s=a(i),r=t(131),o=a(r)},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(85),i=a(n),s=t(12),r=a(s),o=t(13),l=a(o),c=function(){function e(t,a,n,i,s){"ngInject";(0,r.default)(this,e),this._zAlert=t,this._state=a,this._timeout=n,this._filter=i,this._zNotification=s,this.thisUser=JSON.parse(sessionStorage.getItem("thisUser")),this.super=this.thisUser.permission.super,this.searchWord="",this.region=JSON.parse(localStorage.getItem("region")),this.chosion={region:this.region,branch:[]},this.headInfo={title:"部门管理",btnGroup:[],crumbs:[{name:"首页",router:"pages"},{name:"部门管理"}],hideBack:!0},this.page={page:1,page_size:6,total:0},this.filtrate={keyword:"",region:"",branch:""},this.addData={branch:""},this.selectRegion("region",this.region[0])}return e.$inject=["zAlert","$state","$timeout","$filter","zNotification"],(0,l.default)(e,[{key:"getBranch",value:function(){var e=this,t=JSON.parse(localStorage.getItem("branch"));t=t.filter(function(t){if(e.filtrate.region==t.region)return!0}),this.chosion.branch=t,this.selectBranch("branch",t[0])}},{key:"selectRegion",value:function(e,t){this.setSeartionActive(e,t),this.filtrate.region=t.name,this.getBranch()}},{key:"selectBranch",value:function(e,t){this.setSeartionActive(e,t),this.filtrate.branch=t.name}},{key:"setSeartionActive",value:function(e,t){for(var a=0;a<this.chosion[e].length;a++)if(this.chosion[e][a].active){this.chosion[e][a].active=!1;break}t.active=!0}},{key:"addBranch",value:function(){this.showAdd=!this.showAdd}},{key:"add",value:function(){var e=JSON.parse(localStorage.getItem("branch"));e.push({name:this.addData.branch,region:this.filtrate.region}),localStorage.setItem("branch",(0,i.default)(e)),this.showAdd=!1,this.getBranch(),this._zNotification.success("添加成功")}},{key:"removeBranch",value:function(e){var t=this;this._zAlert.open({title:"这个部门吗",action:"删除",onAction:function(){for(var a=JSON.parse(localStorage.getItem("branch")),n=0;n<a.length;n++)if(e.name==a[n].name&&e.region==t.filtrate.region){a.splice(n,1),t._zNotification.success("删除成功"),localStorage.setItem("branch",(0,i.default)(a)),t.getBranch();break}}})}}]),e}();exports.default=c},function(e,exports){var t="pages/main/branchSetting/branchSetting.view.html",a='<z-page-header header-info=vm.headInfo></z-page-header> <header class="base-clone-content margin-bottom-20 margin-top-10"> <div class="panel panel-border"> <div class=panel-heading> 筛选 </div> <div class=panel-body> <div class=type-choose> <dl class="clearfix flex-box"> <dt>地区</dt> <dd class=flex-1><a href="" ng-click="vm.selectRegion(\'region\',a)" ng-class="{\'active\':a.active}" ng-repeat="a in vm.chosion.region">{{::a.name}}</a></dd> </dl> </div> </div> </div> <div class="panel panel-border"> <div class=panel-heading> {{vm.filtrate.region}}部门管理 </div> <div class=panel-body> <div class=type-choose> <dl class="clearfix flex-box"> <dt>部门</dt> <dd class=flex-1><a href="" class=re-hover ng-repeat="a in vm.chosion.branch">{{::a.name}}<i class="fa fa-times margin-left-10 cursor-pointer remove" ng-click=vm.removeBranch(a)></i></a> <a class="add cursor-pointer" ng-click=vm.addBranch()><i class="fa fa-plus"></i></a> </dd> </dl> </div> </div> </div> <div class="panel panel-border expandDown" ng-show=vm.showAdd> <div class=panel-heading> 添加部门 </div> <div class=panel-body> <form class=form-horizontal name=addForm ng-submit=addForm.$valid&&vm.add()> <div class=form-group> <label for="" class="control-label col-sm-2">地区：</label> <div class=col-sm-3> <input type=text class=form-control name=region ng-model=vm.filtrate.region disabled=disabled> </div> </div> <div class=form-group ng-class="{\'has-error\':(addForm.branch.$touched||addForm.$submitted)&&addForm.branch.$error.required}"> <label for="" class="control-label col-sm-2">部门名称：</label> <div class=col-sm-3> <input type=text class=form-control ng-model=vm.addData.branch name=branch required> </div> </div> <div class=form-group> <div class="col-sm-3 col-sm-offset-2"> <button type=submit class="btn btn-primary btn-sm">确认</button> <button type=button class="btn btn-default btn-sm" ng-click=vm.addBranch()>取消</button> </div> </div> </form> </div> </div> </header>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(133),i=a(n);exports.default=angular.module("main.loveapp",[]).config(i.default).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){"ngInject";e.state("pages.loveapp",{url:"/loveapp",controller:s.default,controllerAs:"vm",templateUrl:o.default})}n.$inject=["$stateProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(134),s=a(i),r=t(135),o=a(r)},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(85),i=a(n),s=t(12),r=a(s),o=t(13),l=a(o),c=function(){function e(t,a,n,i,s){"ngInject";(0,r.default)(this,e),this._zAlert=t,this._state=a,this._timeout=n,this._filter=i,this._zNotification=s,this.searchWord="",this.headInfo={title:"我的收藏",btnGroup:[],crumbs:[{name:"首页",router:"pages"},{name:"我的收藏"}],hideBack:!0},this.page={page:1,page_size:6,total:0},this.filtrate={keyword:""},this.getThisUser(),this.getList()}return e.$inject=["zAlert","$state","$timeout","$filter","zNotification"],(0,l.default)(e,[{key:"setUsers",value:function(){sessionStorage.setItem("thisUser",(0,i.default)(this.User));for(var e=JSON.parse(localStorage.getItem("userData")),t=0;t<e.length;t++)if(this.User.id==e[t].id){e.splice(t,1,this.User);break}localStorage.setItem("userData",(0,i.default)(e))}},{key:"getThisUser",value:function(){this.User=JSON.parse(sessionStorage.getItem("thisUser")),this.super=this.User.permission.super,this.getLoveApps()}},{key:"getLoveApps",value:function(){var e=this,t=JSON.parse(localStorage.getItem("appList"));this.loveApps=t.filter(function(t){if(e.User.loveApp.indexOf(t.id)>-1)return t.hasLove=!0,e.User.useApp.indexOf(t.id)>-1&&(t.enabled=!0),!0}),this.filterApp()}},{key:"deleteLove",value:function(e){var t=this;this._zAlert.open({title:e.appname,action:"移除",onAction:function(){var a=t.User.loveApp,n=a.indexOf(e.id);n>-1&&(a.splice(n,1),t.setUsers(),t._zNotification.success("移除收藏成功")),t.getThisUser(),t.getList()}})}},{key:"filterApp",value:function(){this.page.page=1;var e=this.loveApps.slice(0);""!=this.filtrate.keyword&&(e=this._filter("filter")(e,this.filtrate.keyword)),this.AppsList=e}},{key:"keywordClose",value:function(){this.searchWord="",this.filtrate.keyword="",this.filterApp(),this.getList()}},{key:"search",value:function(){this.filtrate.keyword=this.searchWord,this.filterApp(),this.getList()}},{key:"getList",value:function(){var e=this;this.usersList=null,this._timeout(function(){var t=e.page.page_size,a=e.page.page_size*(e.page.page-1),n=e._filter("limitTo")(e.AppsList,t,a);e.usersList=n,e.page.total=e.AppsList.length},250)}},{key:"changePage",value:function(){this.getList()}}]),e}();exports.default=c},function(e,exports){var t="pages/main/loveApp/loveapp.view.html",a='<z-page-header header-info=vm.headInfo></z-page-header> <header class="base-clone-content margin-bottom-20 margin-top-10"> <div class="margin-bottom-20 clearfix"> <form class="form-inline pull-right" ng-submit=vm.search()> <div class=form-group> <input type=text ng-model=vm.searchWord class=form-control placeholder=请输入关键字> </div> <div class=form-group> <button type=submit class="btn btn-primary"><i class="fa fa-search"></i> 搜索</button> </div> </form> </div> <div class="panel panel-border" ng-show=vm.filtrate.keyword> <div class=panel-heading> 筛选 </div> <div class=panel-body> <div class=type-choose> <dl class=clearfix> <dt>关键词</dt> <dd><a class=active>{{vm.filtrate.keyword}}<i class="fa fa-times margin-left-10 cursor-pointer" ng-click=vm.keywordClose()></i></a></dd> </dl> </div> </div> </div> </header> <div class="panel panel-border"> <div class=panel-heading> 应用服务列表 </div> <div class=panel-body> <section class=row z-interleave> <div class="col-md-6 col-lg-4 user" z-interleave-class=user-clear ng-repeat="item in vm.usersList"> <div class="panel panel-border panel-border-shadow border-left-strong"> <z-more-panel open-panel=item.openMoreData></z-more-panel> <div class="panel-heading clearfix"> <strong class="pull-left user-name">{{item.appname}}</strong> <div class="panel-tool pull-right"> <i class="fa fa-trash-o cursor-pointer" ng-click=vm.deleteLove(item) ui-tooltip=移除></i> </div> </div> <div class="panel-body user-infos"> <dl class=flex-box> <dt class=padding-right-10>所属地区 : </dt> <dd class=flex-1>{{item.region}}</dd> <dt class=padding-right-10>所属部门 : </dt> <dd class=flex-1>{{item.branch}}</dd> </dl> <dl class=flex-box> <dt class=padding-right-10>上线时间 : </dt> <dd class=flex-1>{{item.createTime}}</dd> </dl> <dl class=flex-box> <dt class=padding-right-10>主要用途 : </dt> <dd class=flex-1>{{item.use}}</dd> </dl> <p><strong>应用简介 : </strong></p> <p class="text-default text-dict"> {{item.dict}} </p> <p class=text-right> <button class="btn btn-primary btn-sm" ng-if=item.enabled>进入应用</button> <button class="btn btn-success btn-sm" ng-if=!item.enabled>申请使用</button> </p> </div> </div> </div> <div class="text-center margin-top-10 margin-bottom-10" ng-show=!vm.usersList> <ui-loading type=spin size=sm></ui-loading> </div> <p class="text-center text-danger" ng-show="vm.usersList.length==0">无相关数据</p> </section> <ui-pagination-group ng-model=vm.page.page items-per-page=vm.page.page_size total-items=vm.page.total ng-change=vm.changePage() on-refresh=vm.changePage()></ui-pagination-group> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(137),i=a(n);exports.default=angular.module("main.index",[]).config(i.default).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){"ngInject";e.when("","/login/user"),t.state("pages",{url:"/main",controller:o.default,controllerAs:"vm",templateUrl:s.default})}n.$inject=["$urlRouterProvider","$stateProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(138),s=a(i),r=t(139),o=a(r)},function(e,exports){var t="pages/main/main.view.html",a='<aside class=side-bar> <header class="bar-top logo"> <div class=main-title> <span class="fa-stack fa-lg"> <i class="fa fa-recycle fa-stack-2x" style=font-size:3em></i> </span> <span class=logo>大数据应用服务框架</span> <div class=main-little-title ng-if=vm.admin>(后台管理)</div> </div> </header> <section class=bar-body> <z-main-nav class=margin-top-20 nav-data=vm.linkdata></z-main-nav> </section> </aside> <div class=mains> <header class=main-top> <div class="pull-left margin-left-20" ng-show=showIframeWin> <a style=font-size:20px class=head-links href="" ng-click=vm.closeIframeWin() title=返回 ui-tooltip-placement=bottom><i class="fa fa-angle-left"></i></a> </div> <div class=pull-right> <user-menus template-url={{vm.navurl}}></user-menus> </div> <div class="pull-right margin-right-5" ng-if=vm.admin> <i class="fa fa-superpowers"></i> <span>{{vm.power}}</span> </div> <div class="pull-right msg"> <span ui-><i class="fa fa-commenting-o"></i></span> </div> </header> <section class=main-body ui-view> </section> <section class=main-iframe-win ng-show=showIframeWin> <div class=iframe-loading ng-show=iframeLoading> <ui-loading type=spin size=sm></ui-loading> </div> <iframe id=iframeWin src=""></iframe> </section> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(12),i=a(n),s=t(13),r=a(s),o=t(140),l=a(o),c=function(){function e(t,a,n,s,r){"ngInject";(0,i.default)(this,e);var o=this;this._iframeWin=r;var c=JSON.parse(sessionStorage.getItem("thisUser"));this.power=c.roleName,o.navurl=l.default,console.log(c.permission);var u=[{link:"#/main/apps",name:"应用服务共享中心",icon:"fa-heart-o"},{liner:!0},{link:"#/main/myapp",name:"可用的应用服务",icon:"fa-heart-o"},{link:"#/main/loveapp",name:"收藏的应用服务",icon:"fa-heart-o"},{link:"#/main/footprint",name:"访问历史",icon:"fa-heart-o"}],d=[];c.permission.admin&&"admin"==sessionStorage.getItem("entry")?(this.admin=!0,c.permission.appManage&&d.push({link:"#/main/appSetting",name:"应用服务管理",icon:"fa-heart-o"}),c.permission.userManage&&d.push({link:"#/main/user",name:"用户管理",icon:"fa-heart-o"}),c.permission.roleManage&&d.push({link:"#/main/role",name:"角色管理",icon:"fa-heart-o"}),c.permission.branchManage&&d.push({link:"#/main/branchSetting",name:"部门管理",icon:"fa-heart-o"}),d.length>0&&u.push({liner:!0}),o.linkdata=d):o.linkdata=u}return e.$inject=["$scope","$location","$state","httpServer","iframeWin"],(0,r.default)(e,[{key:"closeIframeWin",value:function(){this._iframeWin.close()}}]),e}();exports.default=c},function(e,exports){var t="pages/main/user.nav.view.html",a=' <li><i class="fa fa-user"></i>修改资料</li> <li ui-sref={{exit}}><i class="fa fa-power-off"></i>退出</li>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(142),i=a(n);exports.default=angular.module("main.myapp",[]).config(i.default).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){"ngInject";e.state("pages.myapp",{url:"/myapp",controller:s.default,controllerAs:"vm",templateUrl:o.default})}n.$inject=["$stateProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(143),s=a(i),r=t(144),o=a(r)},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(85),i=a(n),s=t(12),r=a(s),o=t(13),l=a(o),c=function(){function e(t,a,n,i,s,o){"ngInject";(0,r.default)(this,e),this._zAlert=t,this._state=a,this._timeout=n,this._filter=i,this._iframeWin=o,this._zNotification=s,this.searchWord="",this.headInfo={title:"我的应用",btnGroup:[],crumbs:[{name:"首页",router:"pages"},{name:"我的应用"}],hideBack:!0},this.page={page:1,page_size:6,total:0},this.filtrate={keyword:""},this.getThisUser(),this.getList()}return e.$inject=["zAlert","$state","$timeout","$filter","zNotification","iframeWin"],(0,l.default)(e,[{key:"setUsers",value:function(){sessionStorage.setItem("thisUser",(0,i.default)(this.User));for(var e=JSON.parse(localStorage.getItem("userData")),t=0;t<e.length;t++)if(this.User.id==e[t].id){e.splice(t,1,this.User);break}localStorage.setItem("userData",(0,i.default)(e))}},{key:"getThisUser",value:function(){this.User=JSON.parse(sessionStorage.getItem("thisUser")),this.super=this.User.permission.super,this.getApps()}},{key:"getApps",value:function(){var e=this,t=JSON.parse(localStorage.getItem("appList"));this.myApps=t.filter(function(t){if(e.User.useApp.indexOf(t.id)>-1)return t.enabled=!0,e.User.loveApp.indexOf(t.id)>-1&&(t.hasLove=!0),!0}),this.filterApp()}},{key:"openApp",value:function(e){this._iframeWin.open(e)}},{key:"pushLove",value:function(e){var t=this,a="收藏";e.hasLove&&(a="取消收藏"),this._zAlert.open({title:e.appname,action:a,onAction:function(){if(e.hasLove){e.hasLove=!1;var a=t.User.loveApp,n=a.indexOf(e.id);n>-1&&(a.splice(n,1),t.setUsers(),t._zNotification.success("取消收藏成功"))}else e.hasLove=!0,t.User.loveApp.push(e.id),t.setUsers(),t._zNotification.success("收藏成功");t.getThisUser()}})}},{key:"filterApp",value:function(){this.page.page=1;var e=this.myApps.slice(0);""!=this.filtrate.keyword&&(e=this._filter("filter")(e,this.filtrate.keyword)),this.AppsList=e}},{key:"keywordClose",value:function(){this.searchWord="",this.filtrate.keyword="",this.filterApp(),this.getList()}},{key:"search",value:function(){this.filtrate.keyword=this.searchWord,this.filterApp(),this.getList()}},{key:"getList",value:function(){var e=this;this.usersList=null,this._timeout(function(){var t=e.page.page_size,a=e.page.page_size*(e.page.page-1),n=e._filter("limitTo")(e.AppsList,t,a);e.usersList=n,e.page.total=e.AppsList.length},250)}},{key:"changePage",value:function(){this.getList()}}]),e}();exports.default=c},function(e,exports){var t="pages/main/myApp/myapp.view.html",a='<z-page-header header-info=vm.headInfo></z-page-header> <header class="base-clone-content margin-bottom-20 margin-top-10"> <div class="margin-bottom-20 clearfix"> <div class=pull-left> <a href="" class="btn btn-primary-hoverborder" ui-sref=pages.apps>前往应用服务共享中心</a> </div> <form class="form-inline pull-right" ng-submit=vm.search()> <div class=form-group> <input type=text ng-model=vm.searchWord class=form-control placeholder=请输入关键字> </div> <div class=form-group> <button type=submit class="btn btn-primary"><i class="fa fa-search"></i> 搜索</button> </div> </form> </div> <div class="panel panel-border" ng-show=vm.filtrate.keyword> <div class=panel-heading> 筛选 </div> <div class=panel-body> <div class=type-choose> <dl class=clearfix> <dt>关键词</dt> <dd><a class=active>{{vm.filtrate.keyword}}<i class="fa fa-times margin-left-10 cursor-pointer" ng-click=vm.keywordClose()></i></a></dd> </dl> </div> </div> </div> </header> <div class="panel panel-border"> <div class=panel-heading> 应用服务列表 </div> <div class=panel-body> <section class=row z-interleave> <div class="col-md-6 col-lg-4 user" z-interleave-class=user-clear ng-repeat="item in vm.usersList"> <div class="panel panel-border panel-border-shadow border-left-strong"> <z-more-panel open-panel=item.openMoreData></z-more-panel> <div class="panel-heading clearfix"> <strong class="pull-left user-name">{{item.appname}}</strong> <div class="panel-tool pull-right"> <i ng-click=vm.pushLove(item) class="fa cursor-pointer margin-right-10" ng-class="item.hasLove?\'fa-heart\':\'fa-heart-o\'" ui-tooltip="{{item.hasLove?\'取消收藏\':\'收藏\'}}"></i> </div> </div> <div class="panel-body user-infos"> <dl class=flex-box> <dt class=padding-right-10>所属地区 : </dt> <dd class=flex-1>{{item.region}}</dd> <dt class=padding-right-10>所属部门 : </dt> <dd class=flex-1>{{item.branch}}</dd> </dl> <dl class=flex-box> <dt class=padding-right-10>上线时间 : </dt> <dd class=flex-1>{{item.createTime}}</dd> </dl> <dl class=flex-box> <dt class=padding-right-10>主要用途 : </dt> <dd class=flex-1>{{item.use}}</dd> </dl> <p><strong>应用简介 : </strong></p> <p class="text-default text-dict"> {{item.dict}} </p> <p class=text-right> <button class="btn btn-primary btn-sm" ng-if=item.enabled ng-click=vm.openApp(item)>进入应用</button> <button class="btn btn-success btn-sm" ng-if=!item.enabled>申请使用</button> </p> </div> </div> </div> <div class="text-center margin-top-10 margin-bottom-10" ng-show=!vm.usersList> <ui-loading type=spin size=sm></ui-loading> </div> <p class="text-center text-danger" ng-show="vm.usersList.length==0">无相关数据</p> </section> <ui-pagination-group ng-model=vm.page.page items-per-page=vm.page.page_size total-items=vm.page.total ng-change=vm.changePage() on-refresh=vm.changePage()></ui-pagination-group> </div> </div>';
window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(146),i=a(n);exports.default=angular.module("main.rolecreate",[]).config(i.default).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){"ngInject";e.state("pages.rolecreate",{url:"/rolecreate?:id",controller:s.default,controllerAs:"vm",templateUrl:o.default})}n.$inject=["$stateProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(147),s=a(i),r=t(148),o=a(r)},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(85),i=a(n),s=t(12),r=a(s),o=t(13),l=a(o),c=function(){function e(t,a){"ngInject";(0,r.default)(this,e),this._zNotification=t,this._timeout=a,this.headInfo={title:"角色创建",btnGroup:null,crumbs:[{name:"角色管理",router:"pages.role"},{name:"角色创建"}]},this.thisUser=JSON.parse(sessionStorage.getItem("thisUser")),this.super=this.thisUser.permission.super,this.region=JSON.parse(localStorage.getItem("region")),this.regionSelectList=this.region,this.branchSelectList=[{name:""}],this.user={roleName:"",region:this.regionSelectList[0].name,branch:""},this.permission={appManage:!1,userManage:!1,roleManage:!1},this.btnName="创建",this.getBranch()}return e.$inject=["zNotification","$timeout"],(0,l.default)(e,[{key:"getBranch",value:function(){var e=this;setTimeout(function(){var t=JSON.parse(localStorage.getItem("branch"));t=t.filter(function(t){if(e.user.region==t.region)return!0}),t.length>0&&(e.user.branch=""),e.branchSelectList=t})}},{key:"create",value:function(){var e=this;this.btnLoading=!0,this._timeout(function(){var t=JSON.parse(localStorage.getItem("roleData")),a=0;t.forEach(function(e){a<e.id&&(a=e.id)});var n={id:parseInt(a,10)+1,roleName:e.user.username,permission:e.permission,enbleRemove:!0,region:e.thisUser.region,branch:e.thisUser.branch},s=!1;for(var r in e.permission)if(e.permission[r]){console.log(e.permission[r]),s=!0;break}s&&(n.permission.admin=s),t.push(n),localStorage.setItem("roleData",(0,i.default)(t)),e._zNotification.success("创建成功"),e.btnLoading=!1},200)}}]),e}();exports.default=c},function(e,exports){var t="pages/main/roleSetting/create/rolecreate.view.html",a='<z-page-header header-info=vm.headInfo></z-page-header> <form name=createForm class=form-horizontal ng-submit=createForm.$valid&&vm.create()> <div class=form-group ng-class="{\'has-error\':(createForm.username.$touched||createForm.$submitted)&&(createForm.username.$error.required)}"> <label for="" class="control-label col-md-3 col-lg-2">角色名称:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <input ng-model=vm.user.username name=username type=text class=form-control required> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=form-group ng-if=vm.super> <label for="" class="control-label col-md-3 col-lg-2">地区:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <z-select select-list-data=vm.regionSelectList select-model=vm.user.region select-callback=vm.getBranch()></z-select> </div> </div> <div class=form-group ng-if=vm.super> <label for="" class="control-label col-md-3 col-lg-2">部门:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <z-select select-list-data=vm.branchSelectList select-model=vm.user.branch></z-select> </div> </div> <div class=form-group ng-class="{\'has-error\':(createForm.username.$touched||createForm.$submitted)&&(createForm.username.$error.required)}"> <label for="" class="control-label col-md-3 col-lg-2">权限设置:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4 control-label" style=text-align:left> <p><span class=permission-name>应用服务管理</span><ui-switch ng-model=vm.permission.appManage type=primary></ui-switch></p> <p><span class=permission-name>用户管理</span><ui-switch ng-model=vm.permission.userManage type=primary></ui-switch></p> <p><span class=permission-name>角色管理</span><ui-switch ng-model=vm.permission.roleManage type=primary></ui-switch></p> </div> </div> <div class=main-footer> <div class="pull-right padding-right-15 padding-top-10"><button type=submit class="btn btn-primary btn-sm"><span ng-show=vm.btnLoading><i class="fa fa-cog fa-spin fa-fw fa-lg"></i></span> <span>{{vm.btnName}}</span></button></div> </div> </form>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(150),i=a(n);exports.default=angular.module("main.role",[]).config(i.default).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){"ngInject";e.state("pages.role",{url:"/role",controller:s.default,controllerAs:"vm",templateUrl:o.default})}n.$inject=["$stateProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(151),s=a(i),r=t(152),o=a(r)},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(85),i=a(n),s=t(12),r=a(s),o=t(13),l=a(o),c=function(){function e(t,a,n,i,s){"ngInject";(0,r.default)(this,e),this._zAlert=t,this._state=a,this._timeout=n,this._filter=i,this._zNotification=s,this.User=JSON.parse(sessionStorage.getItem("thisUser")),this.searchWord="",this.region=JSON.parse(localStorage.getItem("region")),this.region.unshift({name:"全部",active:!0}),this.chosion={region:this.region,branch:[]},this.headInfo={title:"角色管理",btnGroup:[],crumbs:[{name:"首页",router:"pages"},{name:"角色管理"}],hideBack:!0},this.page={page:1,page_size:6,total:0},this.filtrate={keyword:"",region:"全部",branch:"全部"},this.selectRegion("region",this.region[0]),this.filterApp(),this.getList()}return e.$inject=["zAlert","$state","$timeout","$filter","zNotification"],(0,l.default)(e,[{key:"getBranch",value:function(){var e=this,t=JSON.parse(localStorage.getItem("branch"));t=t.filter(function(t){if(e.filtrate.region==t.region)return!0}),t.unshift({name:"全部"}),this.chosion.branch=t,this.selectBranch("branch",t[0])}},{key:"removeRole",value:function(e){for(var t=JSON.parse(localStorage.getItem("roleData")),a=0;a<t.length;a++)if(e==t[a].id){t.splice(a,1),localStorage.setItem("roleData",(0,i.default)(t)),this._zNotification.success("删除成功");break}this.filterApp(),this.getList()}},{key:"filterApp",value:function(){var e=this;this.page.page=1;var t=JSON.parse(localStorage.getItem("roleData"));""!=this.filtrate.keyword&&(t=this._filter("filter")(t,this.filtrate.keyword)),this.User.permission.super?(t.forEach(function(e){"通用"==e.region&&(e.hideRole=!1)}),"全部"!=this.filtrate.region&&(t=t.filter(function(t){if(t.region==e.filtrate.region||"通用"==t.region)return!0})),"全部"!=this.filtrate.branch&&(t=t.filter(function(t){if(t.branch==e.filtrate.branch||"通用"==t.branch)return!0}))):t=t.filter(function(t){if(t.region==e.User.region&&t.branch==e.User.branch||"通用"==t.region)return!0}),this.AppsList=t}},{key:"selectRegion",value:function(e,t){this.setSeartionActive(e,t),this.filtrate.region=t.name,this.getBranch(),this.filterApp(),this.getList()}},{key:"selectBranch",value:function(e,t){this.setSeartionActive(e,t),this.filtrate.branch=t.name,this.filterApp(),this.getList()}},{key:"setSeartionActive",value:function(e,t){for(var a=0;a<this.chosion[e].length;a++)if(this.chosion[e][a].active){this.chosion[e][a].active=!1;break}t.active=!0}},{key:"keywordClose",value:function(){this.searchWord="",this.filtrate.keyword="",this.filterApp(),this.getList()}},{key:"search",value:function(){this.filtrate.keyword=this.searchWord,this.filterApp(),this.getList()}},{key:"getList",value:function(){var e=this;this.usersList=null,this._timeout(function(){var t=e.page.page_size,a=e.page.page_size*(e.page.page-1),n=e._filter("limitTo")(e.AppsList,t,a);e.usersList=n,e.page.total=e.AppsList.length},250)}},{key:"changePage",value:function(){this.getList()}}]),e}();exports.default=c},function(e,exports){var t="pages/main/roleSetting/role.view.html",a='<z-page-header header-info=vm.headInfo></z-page-header> <header class="base-clone-content margin-bottom-20 margin-top-10"> <div class="margin-bottom-20 clearfix"> <div class=pull-left> <a ui-sref=pages.rolecreate class="btn btn-primary">创建角色</a> </div> <form class="form-inline pull-right" ng-submit=vm.search()> <div class=form-group> <input type=text ng-model=vm.searchWord class=form-control placeholder=请输入名称搜索> </div> <div class=form-group> <button type=submit class="btn btn-primary"><i class="fa fa-search"></i> 搜索</button> </div> </form> </div> <div class="panel panel-border" ng-show=vm.User.permission.super||vm.filtrate.keyword> <div class=panel-heading> 筛选 </div> <div class=panel-body> <div class=type-choose> <dl class=clearfix ng-show=vm.filtrate.keyword> <dt>关键词</dt> <dd><a class=active>{{vm.filtrate.keyword}}<i class="fa fa-times margin-left-10 cursor-pointer" ng-click=vm.keywordClose()></i></a></dd> </dl> <dl class="clearfix flex-box" ng-if=vm.User.permission.super> <dt>地区</dt> <dd class=flex-1><a href="" ng-click="vm.selectRegion(\'region\',a)" ng-class="{\'active\':a.active}" ng-repeat="a in vm.chosion.region">{{::a.name}}</a></dd> </dl> <dl class="clearfix flex-box" ng-if=vm.User.permission.super> <dt>部门</dt> <dd class=flex-1><a href="" ng-click="vm.selectBranch(\'branch\',a)" ng-class="{\'active\':a.active}" ng-repeat="a in vm.chosion.branch">{{::a.name}}</a></dd> </dl> </div> </div> </div> </header> <div class="panel panel-border"> <div class=panel-heading> 角色列表 </div> <div class=panel-body> <table class=table> <thead> <tr> <th style=width:20%>名称</th> <th style=width:20%>地区</th> <th style=width:20%>部门</th> <th style=width:40%>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in vm.usersList track by $index"> <td><span>{{item.roleName}}</span></td> <td><span>{{item.region}}</span></td> <td><span>{{item.branch}}</span></td> <td><a href="" ng-hide=item.hideRole>权限设置</a><a href="" class=margin-left-15 ng-if=item.enbleRemove ng-click=vm.removeRole(item.id)>删除</a></td> </tr> </tbody> </table> <p class="text-center text-danger" ng-show="vm.usersList.length==0">无相关数据</p> <div class="text-center margin-top-10 margin-bottom-10" ng-show=!vm.usersList> <ui-loading type=spin size=sm></ui-loading> </div> <ui-pagination-group ng-model=vm.page.page items-per-page=vm.page.page_size total-items=vm.page.total ng-change=vm.changePage() on-refresh=vm.changePage()></ui-pagination-group> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(154),i=a(n);exports.default=angular.module("main.usercreate",[]).config(i.default).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){"ngInject";e.state("pages.usercreate",{url:"/usercreate?:id",controller:s.default,controllerAs:"vm",templateUrl:o.default})}n.$inject=["$stateProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(155),s=a(i),r=t(156),o=a(r)},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(85),i=a(n),s=t(12),r=a(s),o=t(13),l=a(o),c=function(){function e(t,a){"ngInject";(0,r.default)(this,e),this._zNotification=t,this._timeout=a,this.headInfo={title:"用户创建",btnGroup:null,crumbs:[{name:"用户管理",router:"pages.user"},{name:"用户创建"}]},this.thisUser=JSON.parse(sessionStorage.getItem("thisUser")),this.super=this.thisUser.permission.super;var n=JSON.parse(localStorage.getItem("roleData")),i=[{name:""}];n.forEach(function(e){i.push({name:e.roleName})}),this.roleSelectList=i,this.region=JSON.parse(localStorage.getItem("region")),this.region.unshift({name:""}),this.regionSelectList=this.region,this.branchSelectList=[{name:""}],this.user={roleName:"",region:this.regionSelectList[0].name,branch:""},this.permission={appManage:!1,userManage:!1,roleManage:!1},this.btnName="创建",this.getBranch()}return e.$inject=["zNotification","$timeout"],(0,l.default)(e,[{key:"getBranch",value:function(){var e=this;setTimeout(function(){var t=JSON.parse(localStorage.getItem("branch"));t=t.filter(function(t){if(e.user.region==t.region)return!0}),t.length>0&&(e.user.branch=""),e.branchSelectList=t})}},{key:"create",value:function(){var e=this;this.btnLoading=!0,this._timeout(function(){var t=JSON.parse(localStorage.getItem("userData")),a=0;t.forEach(function(e){a<e.id&&(a=e.id)});var n={region:e.super?e.user.region:e.thisUser.region,branch:e.super?e.user.branch:e.thisUser.branch,id:parseInt(a,10)+1,userName:e.user.username,roleName:e.user.roleName,email:e.user.email,mobile:e.user.mobile,password:e.user.password,enbleRemove:!0,useApp:[],loveApp:[]};t.push(n),localStorage.setItem("userData",(0,i.default)(t)),e._zNotification.success("创建成功"),e.btnLoading=!1},200)}}]),e}();exports.default=c},function(e,exports){var t="pages/main/userSetting/create/usercreate.view.html",a='<z-page-header header-info=vm.headInfo></z-page-header> <form name=createForm class=form-horizontal ng-submit="createForm.$valid&&vm.user.roleName!=\'\'&&vm.create()"> <div class=form-group ng-class="{\'has-error\':(createForm.username.$touched||createForm.$submitted)&&(createForm.username.$error.required)}"> <label for="" class="control-label col-md-3 col-lg-2">用户名称:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <input ng-model=vm.user.username name=username type=text class=form-control required> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=form-group ng-class="{\'has-error\':(createForm.$submitted)&&vm.user.roleName==\'\'}"> <label for="" class="control-label col-md-3 col-lg-2">分配角色:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <z-select select-list-data=vm.roleSelectList select-model=vm.user.roleName></z-select> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=form-group ng-class="{\'has-error\':(createForm.$submitted)&&vm.user.region==\'\'}" ng-if=vm.super> <label for="" class="control-label col-md-3 col-lg-2">地区:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <z-select select-list-data=vm.regionSelectList select-model=vm.user.region select-callback=vm.getBranch()></z-select> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=form-group ng-class="{\'has-error\':(createForm.$submitted&&!vm.isInput&&vm.user.branch==\'\')||((createForm.branch.$touched||createForm.$submitted)&&vm.isInput&&createForm.branch.$error.required)}" ng-if=vm.super> <label for="" class="control-label col-md-3 col-lg-2">部门:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <z-select select-list-data=vm.branchSelectList select-model=vm.user.branch></z-select> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=form-group ng-class="{\'has-error\':(createForm.email.$touched||createForm.$submitted)&&(createForm.email.$error.required)}"> <label for="" class="control-label col-md-3 col-lg-2">Email:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <input ng-model=vm.user.email name=email type=email class=form-control required> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=form-group ng-class="{\'has-error\':(createForm.mobile.$touched||createForm.$submitted)&&(createForm.mobile.$error.required)}"> <label for="" class="control-label col-md-3 col-lg-2">手机号:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <input ng-model=vm.user.mobile name=mobile type=text class=form-control required> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=form-group ng-class="{\'has-error\':(createForm.pwd.$touched||createForm.$submitted)&&(createForm.pwd.$error.required)}"> <label for="" class="control-label col-md-3 col-lg-2">密码:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <input ng-model=vm.user.password name=pwd type=password class=form-control required> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=form-group ng-class="{\'has-error\':(createForm.pwdagain.$touched||createForm.$submitted)&&(createForm.pwdagain.$error.required||vm.user.password!=vm.user.passwordagain)}"> <label for="" class="control-label col-md-3 col-lg-2">确认密码:<span class=text-danger>*</span></label> <div class="col-md-5 col-lg-4"> <input ng-model=vm.user.passwordagain name=pwdagain type=password class=form-control required> </div> <div class="control-label col-md-4 col-lg-6"> <span class="text-info pull-left">!</span> </div> </div> <div class=main-footer> <div class="pull-right padding-right-15 padding-top-10"><button type=submit class="btn btn-primary btn-sm"><span ng-show=vm.btnLoading><i class="fa fa-cog fa-spin fa-fw fa-lg"></i></span> <span>{{vm.btnName}}</span></button></div> </div> </form>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(158),i=a(n);exports.default=angular.module("main.user",[]).config(i.default).name},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){"ngInject";e.state("pages.user",{url:"/user",controller:s.default,controllerAs:"vm",templateUrl:o.default})}n.$inject=["$stateProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t(159),s=a(i),r=t(160),o=a(r)},function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(85),i=a(n),s=t(12),r=a(s),o=t(13),l=a(o),c=function(){function e(t,a,n,i,s){"ngInject";(0,r.default)(this,e),this._zAlert=t,this._state=a,this._timeout=n,this._filter=i,this._zNotification=s,this.thisUser=JSON.parse(sessionStorage.getItem("thisUser")),this.super=this.thisUser.permission.super,this.searchWord="",this.region=JSON.parse(localStorage.getItem("region")),this.region.unshift({name:"全部",active:!0}),this.chosion={region:this.region,branch:[]},this.headInfo={title:"用户管理",btnGroup:[],crumbs:[{name:"首页",router:"pages"},{name:"用户管理"}],hideBack:!0},this.page={page:1,page_size:6,total:0},this.filtrate={keyword:"",region:"全部",branch:"全部"},this.selectRegion("region",this.region[0]),this.filterApp(),this.getList()}return e.$inject=["zAlert","$state","$timeout","$filter","zNotification"],(0,l.default)(e,[{key:"getBranch",value:function(){var e=this,t=JSON.parse(localStorage.getItem("branch"));t=t.filter(function(t){if(e.filtrate.region==t.region)return!0}),t.unshift({name:"全部"}),this.chosion.branch=t,this.selectBranch("branch",t[0])}},{key:"getuserData",value:function(){var e=this,t=JSON.parse(localStorage.getItem("userData"));if(this.super){for(var a=0;a<t.length;a++)if(this.thisUser.id==t[a].id){t.splice(a,1);break}}else t=t.filter(function(t){if(t.region==e.thisUser.region&&t.branch==e.thisUser.branch&&t.id!=e.thisUser.id)return!0});return t}},{key:"removeuser",value:function(e){for(var t=JSON.parse(localStorage.getItem("userData")),a=0;a<t.length;a++)if(e==t[a].id){t.splice(a,1),localStorage.setItem("userData",(0,i.default)(t)),this._zNotification.success("删除成功");break}this.filterApp(),this.getList()}},{key:"filterApp",value:function(){var e=this;this.page.page=1;var t=this.getuserData();""!=this.filtrate.keyword&&(t=this._filter("filter")(t,this.filtrate.keyword)),this.super&&("全部"!=this.filtrate.region&&(t=t.filter(function(t){if(t.region==e.filtrate.region)return!0})),"全部"!=this.filtrate.branch&&(t=t.filter(function(t){if(t.branch==e.filtrate.branch)return!0}))),this.AppsList=t}},{key:"selectRegion",value:function(e,t){this.setSeartionActive(e,t),this.filtrate.region=t.name,this.getBranch(),this.filterApp(),this.getList()}},{key:"selectBranch",value:function(e,t){this.setSeartionActive(e,t),this.filtrate.branch=t.name,this.filterApp(),this.getList()}},{key:"setSeartionActive",value:function(e,t){for(var a=0;a<this.chosion[e].length;a++)if(this.chosion[e][a].active){this.chosion[e][a].active=!1;break}t.active=!0}},{key:"keywordClose",value:function(){this.searchWord="",this.filtrate.keyword="",this.filterApp(),this.getList()}},{key:"search",value:function(){this.filtrate.keyword=this.searchWord,this.filterApp(),this.getList()}},{key:"getList",value:function(){var e=this;this.usersList=null,this._timeout(function(){var t=e.page.page_size,a=e.page.page_size*(e.page.page-1),n=e._filter("limitTo")(e.AppsList,t,a);e.usersList=n,e.page.total=e.AppsList.length},250)}},{key:"changePage",value:function(){this.getList()}}]),e}();exports.default=c},function(e,exports){var t="pages/main/userSetting/user.view.html",a='<z-page-header header-info=vm.headInfo></z-page-header> <header class="base-clone-content margin-bottom-20 margin-top-10"> <div class="margin-bottom-20 clearfix"> <div class=pull-left> <a ui-sref=pages.usercreate class="btn btn-primary">创建用户</a> </div> <form class="form-inline pull-right" ng-submit=vm.search()> <div class=form-group> <input type=text ng-model=vm.searchWord class=form-control placeholder=请输入名称搜索> </div> <div class=form-group> <button type=submit class="btn btn-primary"><i class="fa fa-search"></i> 搜索</button> </div> </form> </div> <div class="panel panel-border" ng-show=vm.super||vm.filtrate.keyword> <div class=panel-heading> 筛选 </div> <div class=panel-body> <div class=type-choose> <dl class=clearfix ng-show=vm.filtrate.keyword> <dt>关键词</dt> <dd><a class=active>{{vm.filtrate.keyword}}<i class="fa fa-times margin-left-10 cursor-pointer" ng-click=vm.keywordClose()></i></a></dd> </dl> <dl class="clearfix flex-box" ng-if=vm.super> <dt>地区</dt> <dd class=flex-1><a href="" ng-click="vm.selectRegion(\'region\',a)" ng-class="{\'active\':a.active}" ng-repeat="a in vm.chosion.region">{{::a.name}}</a></dd> </dl> <dl class="clearfix flex-box" ng-if=vm.super> <dt>部门</dt> <dd class=flex-1><a href="" ng-click="vm.selectBranch(\'branch\',a)" ng-class="{\'active\':a.active}" ng-repeat="a in vm.chosion.branch">{{::a.name}}</a></dd> </dl> </div> </div> </div> </header> <div class="panel panel-border"> <div class=panel-heading> 用户列表 </div> <div class=panel-body> <table class=table> <thead> <tr> <th style=width:15%>用户名称</th> <th style=width:10%>角色</th> <th style=width:10%>地区</th> <th style=width:10%>部门</th> <th style=width:20%>Email</th> <th style=width:15%>手机号</th> <th style=width:20%>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in vm.usersList track by $index"> <td><span>{{item.userName}}</span></td> <td><span>{{item.roleName}}</span></td> <td><span>{{item.region}}</span></td> <td><span>{{item.branch}}</span></td> <td><span>{{item.email}}</span></td> <td><span>{{item.mobile}}</span></td> <td><a href="">修改</a><a href="" class=margin-left-15 ng-if=item.enbleRemove ng-click=vm.removeuser(item.id)>删除</a></td> </tr> </tbody> </table> <p class="text-center text-danger" ng-show="vm.usersList.length==0">无相关数据</p> <div class="text-center margin-top-10 margin-bottom-10" ng-show=!vm.usersList> <ui-loading type=spin size=sm></ui-loading> </div> <ui-pagination-group ng-model=vm.page.page items-per-page=vm.page.page_size total-items=vm.page.total ng-change=vm.changePage() on-refresh=vm.changePage()></ui-pagination-group> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,a)}]),e.exports=t}]);
//# sourceMappingURL=app.min.js.map